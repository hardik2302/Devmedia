{"version":3,"sources":["redux/actions/postAction.js","components/profile/EditProfile.js","components/profile/Followers.js","components/profile/Following.js","components/profile/Info.js","components/profile/Posts.js","components/profile/Saved.js","pages/profile/[id].js","components/message/Times.js","components/message/MsgDisplay.js","components/message/RightSide.js","pages/message/[id].js","pages sync /^/.*$","redux/actions/notifyAction.js","redux/actions/messageAction.js","images/loading.gif","../node_modules/peerjs/dist sync","components/Avatar.js","components/NotFound.js","customRouter/PageRender.js","customRouter/PrivateRouter.js","components/alert/Loading.js","components/alert/Toast.js","components/alert/Alert.js","components/NotifyModal.js","images/notice.png","components/header/Menu.js","components/header/Search.js","components/header/Header.js","components/StatusModal.js","audio/got-it-done-613.mp3","SocketClient.js","audio/ringring.mp3","components/message/CallModal.js","App.js","reportWebVitals.js","redux/reducers/authReducer.js","redux/reducers/alertReducer.js","redux/reducers/themeReducer.js","redux/reducers/profileReducer.js","redux/reducers/statusReducer.js","redux/reducers/postReducer.js","redux/reducers/modalReducer.js","redux/reducers/detailPostReducer.js","redux/reducers/discoverReducer.js","redux/reducers/suggestionsReducer.js","redux/reducers/socketReducer.js","redux/reducers/notifyReducer.js","redux/reducers/messageReducer.js","redux/reducers/onlineReducer.js","redux/reducers/callReducer.js","redux/reducers/peerReducer.js","redux/reducers/index.js","redux/store.js","index.js","redux/actions/profileAction.js","components/UserCard.js","utils/mediaShow.js","redux/actions/globalTypes.js","utils/imageUpload.js","components/LoadMoreBtn.js","components/FollowBtn.js","utils/valid.js","redux/actions/authAction.js","redux/actions/suggestionsAction.js","redux/actions/discoverAction.js","components/PostThumb.js","components/Icons.js","pages/message/index.js","pages/login.js","pages/register.js","components/home/Status.js","components/home/Posts.js","components/home/RightSideBar.js","pages/home.js","components/message/LeftSide.js","utils/config.js","components/home/post_card/CardHeader.js","components/Carousel.js","components/home/post_card/CardBody.js","images/send.svg","components/LikeButton.js","components/ShareModal.js","components/home/post_card/CardFooter.js","redux/actions/commentAction.js","components/home/comments/CommentMenu.js","components/home/InputComment.js","components/home/comments/CommentCard.js","components/home/comments/CommentDisplay.js","components/home/Comments.js","components/PostCard.js","pages/contest.js","pages/discover.js","utils/fetchData.js","pages/geolocation.js","pages/post/[id].js"],"names":["POST_TYPES","CREATE_POST","LOADING_POST","GET_POSTS","UPDATE_POST","GET_POST","DELETE_POST","createPost","content","images","auth","socket","dispatch","a","media","type","GLOBALTYPES","ALERT","payload","loading","length","imageUpload","postDataAPI","token","res","data","newPost","user","msg","id","_id","text","recipients","followers","url","image","createNotify","error","response","getPosts","getDataAPI","page","updatePost","status","imgNewUrl","filter","img","imgOldUrl","patchDataAPI","success","likePost","post","likes","emit","unLikePost","like","removeNotify","getPost","detailPost","every","deletePost","deleteDataAPI","savePost","newUser","saved","AUTH","unSavePost","EditProfile","setOnEdit","useState","fullname","mobile","address","website","story","gender","userData","setUserData","avatar","setAvatar","useSelector","state","theme","useDispatch","useEffect","handleInput","e","target","name","value","className","onClick","onSubmit","preventDefault","updateProfileUser","src","URL","createObjectURL","alt","style","accept","onChange","file","files","err","checkImage","htmlFor","top","right","transform","cols","rows","Followers","users","setShowFollowers","map","UserCard","FollowBtn","Following","setShowFollowing","Info","profile","onEdit","showFollowers","showFollowing","newData","MODAL","Avatar","size","username","following","email","href","rel","Posts","posts","setPosts","result","setResult","setPage","load","setLoad","forEach","handleLoadMore","PROFILE_TYPES","PostThumb","LoadIcon","LoadMoreBtn","Saved","savePosts","setSavePosts","then","catch","Profile","useParams","saveTab","setSaveTab","ids","item","getProfileUsers","Times","total","parseInt","toString","MsgDisplay","window","confirm","deleteMessages","index","match","videoShow","imageShow","call","background","borderRadius","fontSize","color","times","video","Date","createdAt","toLocaleTimeString","toLocaleString","RightSide","message","peer","setUser","setText","setMedia","loadMedia","setLoadMedia","refDisplay","useRef","pageEnd","setData","isLoadMore","setIsLoadMore","history","useHistory","find","messages","setTimeout","current","scrollIntoView","behavior","block","handleSubmit","trim","newArr","sender","recipient","toISOString","addMessage","getMessages","getMessagesData","IntersectionObserver","entries","isIntersecting","p","threshold","observe","loadMoreMessages","caller","CALL","callUser","open","peerId","cursor","deleteConversation","push","height","ref","marginTop","opacity","display","splice","handleDeleteMedia","placeholder","Icons","setContent","multiple","newMedia","disabled","Conversation","LeftSide","webpackContext","req","webpackContextResolve","__webpack_require__","o","Error","code","keys","Object","resolve","module","exports","NOTIFY_TYPES","GET_NOTIFIES","CREATE_NOTIFY","REMOVE_NOTIFY","UPDATE_NOTIFY","UPDATE_SOUND","DELETE_ALL_NOTIFIES","notify","getNotifies","notifies","isReadNotify","isRead","deleteAllNotifies","MESS_TYPES","ADD_USER","ADD_MESSAGE","GET_CONVERSATIONS","GET_MESSAGES","UPDATE_MESSAGES","DELETE_MESSAGES","DELETE_CONVERSATION","CHECK_ONLINE_OFFLINE","getConversations","conversations","cv","reverse","DeleteData","webpackEmptyContext","NotFound","minHeight","left","PageRender","pageName","React","createElement","require","default","generatePage","PrivateRouter","props","localStorage","getItem","to","Loading","zIndex","width","viewBox","stroke","strokeWidth","fill","points","x","y","Toast","handleShow","bgColor","minWidth","title","data-dismiss","outline","body","Notify","alert","NotifyModal","handleSound","sound","maxHeight","overflow","handleIsRead","slice","moment","fromNow","Menu","pathname","useLocation","isActive","pn","label","icon","path","link","role","data-toggle","aria-haspopup","aria-expanded","aria-labelledby","THEME","logout","Search","search","setSearch","setUsers","handleSearch","handleClose","toLowerCase","replace","border","Header","scrollTo","StatusModal","setImages","stream","setStream","videoRef","refCanvas","tracks","setTracks","stop","STATUS","camera","deleteImages","autoPlay","muted","clientWidth","clientHeight","setAttribute","getContext","drawImage","toDataURL","navigator","mediaDevices","getUserMedia","mediaStream","srcObject","play","track","getTracks","console","log","newImages","SocketClient","online","audioRef","on","off","Notification","onclick","includes","ONLINE","OFFLINE","controls","audiobell","CallModal","hours","setHours","mins","setMins","second","setSecond","setTotal","answer","setAnswer","youVideo","otherVideo","newCall","setNewCall","setTime","t","addCallMessage","useCallback","disconnect","handleEndCall","close","timer","clearTimeout","openStream","config","audio","playStream","tag","handleAnswer","remoteStream","removeListener","pauseAudio","newAudio","pause","currentTime","Audio","RingRing","playAudio","padding","playsInline","App","modal","refreshToken","io","SOCKET","getSuggestions","permission","requestPermission","newPeer","Peer","undefined","secure","PEER","Alert","exact","component","Home","Login","Register","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","initialState","authReducer","action","alertReducer","themeReducer","profileReducer","LOADING","GET_USER","FOLLOW","UNFOLLOW","EditData","GET_ID","statusReducer","postReducer","modalReducer","detailPostReducer","firstLoad","discoverReducer","DISCOVER_TYPES","suggestionsReducer","SUGGES_TYPES","GET_USERS","socketReducer","notifyReducer","resultUsers","messageReducer","onlineReducer","callReducer","peerReducer","combineReducers","homePosts","discover","suggestions","store","createStore","rootReducer","composeWithDevTools","applyMiddleware","thunk","DataProvider","children","ReactDOM","render","StrictMode","document","getElementById","res1","follow","unfollow","showMsg","imgArr","formData","FormData","append","fetch","method","json","public_id","secure_url","followed","setFollowed","handleFollow","handleUnFollow","valid","password","cf_password","test","validateEmail","errMsg","errLength","login","access_token","setItem","register","check","removeItem","location","getDiscoverPosts","comments","Message","typePass","setTypePass","handleChangeInput","aria-describedby","typeCfPass","setTypeCfPass","defaultChecked","Status","PostCard","RightSideBar","scroll","addEventListener","pageYOffset","searchUsers","setSearchUsers","handleAddUser","BASE_URL","CardHeader","clipboard","writeText","Carousel","data-ride","data-target","data-slide-to","data-slide","aria-hidden","CardBody","readMore","setReadMore","LikeButton","isLike","handleLike","handleUnLike","ShareModal","FacebookShareButton","FacebookIcon","round","TwitterShareButton","TwitterIcon","EmailShareButton","EmailIcon","RedditShareButton","RedditIcon","TelegramShareButton","TelegramIcon","WhatsappShareButton","WhatsappIcon","CardFooter","setIsLike","loadLike","setLoadLike","isShare","setIsShare","setSaved","saveLoad","setSaveLoad","handleSavePost","handleUnSavePost","Send","likeComment","comment","newComment","newComments","unLikeComment","CommentMenu","handleRemove","deleteArr","cm","reply","da","deleteComment","MenuItem","InputComment","onReply","setOnReply","commentId","postId","postUserId","createComment","CommentCard","styleCard","pointerEvents","updateComment","CommentDisplay","replyCm","showRep","setShowRep","next","setNext","Comments","setComments","showComments","setShowComments","replyComments","setReplyComments","newCm","newRep","Contest","loaded","coordinates","lat","lng","setLocation","onSuccess","coords","latitude","longitude","onError","geolocation","getCurrentPosition","class","min","max","for","Discover","axios","get","headers","Authorization","patch","delete","Geolocation","Post","setPost"],"mappings":"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","file":"static/js/main.6363a149.chunk.js","sourcesContent":["import { GLOBALTYPES } from './globalTypes'\r\nimport { imageUpload } from '../../utils/imageUpload'\r\nimport { postDataAPI, getDataAPI, patchDataAPI, deleteDataAPI } from '../../utils/fetchData'\r\nimport { createNotify, removeNotify } from './notifyAction'\r\n\r\nexport const POST_TYPES = {\r\n    CREATE_POST: 'CREATE_POST',\r\n    LOADING_POST: 'LOADING_POST',\r\n    GET_POSTS: 'GET_POSTS',\r\n    UPDATE_POST: 'UPDATE_POST',\r\n    GET_POST: 'GET_POST',\r\n    DELETE_POST: 'DELETE_POST'\r\n}\r\n\r\n\r\nexport const createPost = ({content, images, auth, socket}) => async (dispatch) => {\r\n    let media = []\r\n    try {\r\n        dispatch({ type: GLOBALTYPES.ALERT, payload: {loading: true} })\r\n        if(images.length > 0) media = await imageUpload(images)\r\n\r\n        const res = await postDataAPI('posts', { content, images: media }, auth.token)\r\n\r\n        dispatch({ \r\n            type: POST_TYPES.CREATE_POST, \r\n            payload: {...res.data.newPost, user: auth.user} \r\n        })\r\n\r\n        dispatch({ type: GLOBALTYPES.ALERT, payload: {loading: false} })\r\n\r\n        // Notify\r\n        const msg = {\r\n            id: res.data.newPost._id,\r\n            text: 'added a new post.',\r\n            recipients: res.data.newPost.user.followers,\r\n            url: `/post/${res.data.newPost._id}`,\r\n            content, \r\n            image: media[0].url\r\n        }\r\n\r\n        dispatch(createNotify({msg, auth, socket}))\r\n\r\n    } catch (err) {\r\n        dispatch({\r\n            type: GLOBALTYPES.ALERT,\r\n            payload: {error: err.response.data.msg}\r\n        })\r\n    }\r\n}\r\n\r\nexport const getPosts = (token) => async (dispatch) => {\r\n    try {\r\n        dispatch({ type: POST_TYPES.LOADING_POST, payload: true })\r\n        const res = await getDataAPI('posts', token)\r\n        \r\n        dispatch({\r\n            type: POST_TYPES.GET_POSTS,\r\n            payload: {...res.data, page: 2}\r\n        })\r\n\r\n        dispatch({ type: POST_TYPES.LOADING_POST, payload: false })\r\n    } catch (err) {\r\n        dispatch({\r\n            type: GLOBALTYPES.ALERT,\r\n            payload: {error: err.response.data.msg}\r\n        })\r\n    }\r\n}\r\n\r\nexport const updatePost = ({content, images, auth, status}) => async (dispatch) => {\r\n    let media = []\r\n    const imgNewUrl = images.filter(img => !img.url)\r\n    const imgOldUrl = images.filter(img => img.url)\r\n\r\n    if(status.content === content \r\n        && imgNewUrl.length === 0\r\n        && imgOldUrl.length === status.images.length\r\n    ) return;\r\n\r\n    try {\r\n        dispatch({ type: GLOBALTYPES.ALERT, payload: {loading: true} })\r\n        if(imgNewUrl.length > 0) media = await imageUpload(imgNewUrl)\r\n\r\n        const res = await patchDataAPI(`post/${status._id}`, { \r\n            content, images: [...imgOldUrl, ...media] \r\n        }, auth.token)\r\n\r\n        dispatch({ type: POST_TYPES.UPDATE_POST, payload: res.data.newPost })\r\n\r\n        dispatch({ type: GLOBALTYPES.ALERT, payload: {success: res.data.msg} })\r\n    } catch (err) {\r\n        dispatch({\r\n            type: GLOBALTYPES.ALERT,\r\n            payload: {error: err.response.data.msg}\r\n        })\r\n    }\r\n}\r\n\r\nexport const likePost = ({post, auth, socket}) => async (dispatch) => {\r\n    const newPost = {...post, likes: [...post.likes, auth.user]}\r\n    dispatch({ type: POST_TYPES.UPDATE_POST, payload: newPost})\r\n\r\n    socket.emit('likePost', newPost)\r\n\r\n    try {\r\n        await patchDataAPI(`post/${post._id}/like`, null, auth.token)\r\n        \r\n        // Notify\r\n        const msg = {\r\n            id: auth.user._id,\r\n            text: 'like your post.',\r\n            recipients: [post.user._id],\r\n            url: `/post/${post._id}`,\r\n            content: post.content, \r\n            image: post.images[0].url\r\n        }\r\n\r\n        dispatch(createNotify({msg, auth, socket}))\r\n\r\n    } catch (err) {\r\n        dispatch({\r\n            type: GLOBALTYPES.ALERT,\r\n            payload: {error: err.response.data.msg}\r\n        })\r\n    }\r\n}\r\n\r\nexport const unLikePost = ({post, auth, socket}) => async (dispatch) => {\r\n    const newPost = {...post, likes: post.likes.filter(like => like._id !== auth.user._id)}\r\n    dispatch({ type: POST_TYPES.UPDATE_POST, payload: newPost})\r\n\r\n    socket.emit('unLikePost', newPost)\r\n\r\n    try {\r\n        await patchDataAPI(`post/${post._id}/unlike`, null, auth.token)\r\n\r\n        // Notify\r\n        const msg = {\r\n            id: auth.user._id,\r\n            text: 'like your post.',\r\n            recipients: [post.user._id],\r\n            url: `/post/${post._id}`,\r\n        }\r\n        dispatch(removeNotify({msg, auth, socket}))\r\n\r\n    } catch (err) {\r\n        dispatch({\r\n            type: GLOBALTYPES.ALERT,\r\n            payload: {error: err.response.data.msg}\r\n        })\r\n    }\r\n}\r\n\r\nexport const getPost = ({detailPost, id, auth}) => async (dispatch) => {\r\n    if(detailPost.every(post => post._id !== id)){\r\n        try {\r\n            const res = await getDataAPI(`post/${id}`, auth.token)\r\n            dispatch({ type: POST_TYPES.GET_POST, payload: res.data.post })\r\n        } catch (err) {\r\n            dispatch({\r\n                type: GLOBALTYPES.ALERT,\r\n                payload: {error: err.response.data.msg}\r\n            })\r\n        }\r\n    }\r\n}\r\n\r\nexport const deletePost = ({post, auth, socket}) => async (dispatch) => {\r\n    dispatch({ type: POST_TYPES.DELETE_POST, payload: post })\r\n\r\n    try {\r\n        const res = await deleteDataAPI(`post/${post._id}`, auth.token)\r\n\r\n        // Notify\r\n        const msg = {\r\n            id: post._id,\r\n            text: 'added a new post.',\r\n            recipients: res.data.newPost.user.followers,\r\n            url: `/post/${post._id}`,\r\n        }\r\n        dispatch(removeNotify({msg, auth, socket}))\r\n        \r\n    } catch (err) {\r\n        dispatch({\r\n            type: GLOBALTYPES.ALERT,\r\n            payload: {error: err.response.data.msg}\r\n        })\r\n    }\r\n}\r\n\r\nexport const savePost = ({post, auth}) => async (dispatch) => {\r\n    const newUser = {...auth.user, saved: [...auth.user.saved, post._id]}\r\n    dispatch({ type: GLOBALTYPES.AUTH, payload: {...auth, user: newUser}})\r\n\r\n    try {\r\n        await patchDataAPI(`savePost/${post._id}`, null, auth.token)\r\n    } catch (err) {\r\n        dispatch({\r\n            type: GLOBALTYPES.ALERT,\r\n            payload: {error: err.response.data.msg}\r\n        })\r\n    }\r\n}\r\n\r\nexport const unSavePost = ({post, auth}) => async (dispatch) => {\r\n    const newUser = {...auth.user, saved: auth.user.saved.filter(id => id !== post._id) }\r\n    dispatch({ type: GLOBALTYPES.AUTH, payload: {...auth, user: newUser}})\r\n\r\n    try {\r\n        await patchDataAPI(`unSavePost/${post._id}`, null, auth.token)\r\n    } catch (err) {\r\n        dispatch({\r\n            type: GLOBALTYPES.ALERT,\r\n            payload: {error: err.response.data.msg}\r\n        })\r\n    }\r\n}","import React, { useState, useEffect } from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { checkImage } from '../../utils/imageUpload'\r\nimport { GLOBALTYPES } from '../../redux/actions/globalTypes'\r\nimport { updateProfileUser } from '../../redux/actions/profileAction'\r\n\r\nconst EditProfile = ({setOnEdit}) => {\r\n    const initState = {\r\n        fullname: '', mobile: '', address: '', website: '', story: '', gender: ''\r\n    }\r\n    const [userData, setUserData] = useState(initState)\r\n    const { fullname, mobile, address, website, story, gender } = userData\r\n\r\n    const [avatar, setAvatar] = useState('')\r\n\r\n    const { auth, theme } = useSelector(state => state)\r\n    const dispatch = useDispatch()\r\n\r\n    useEffect(() => {\r\n        setUserData(auth.user)\r\n    }, [auth.user])\r\n\r\n\r\n    const changeAvatar = (e) => {\r\n        const file = e.target.files[0]\r\n\r\n        const err = checkImage(file)\r\n        if(err) return dispatch({\r\n            type: GLOBALTYPES.ALERT, payload: {error: err}\r\n        })\r\n\r\n        setAvatar(file)\r\n    }\r\n\r\n    const handleInput = e => {\r\n        const { name, value } = e.target\r\n        setUserData({ ...userData, [name]:value })\r\n    }\r\n\r\n    const handleSubmit = e => {\r\n        e.preventDefault()\r\n        dispatch(updateProfileUser({userData, avatar, auth}))\r\n    }\r\n\r\n    return (\r\n        <div className=\"edit_profile\">\r\n            <button className=\"btn btn-danger btn_close\"\r\n            onClick={() => setOnEdit(false)}>\r\n                Close\r\n            </button>\r\n\r\n            <form onSubmit={handleSubmit}>\r\n                <div className=\"info_avatar\">\r\n                    <img src={avatar ? URL.createObjectURL(avatar) : auth.user.avatar} \r\n                    alt=\"avatar\" style={{filter: theme ? 'invert(1)' : 'invert(0)'}} />\r\n                    <span>\r\n                        <i className=\"fas fa-camera\" />\r\n                        <p>Change</p>\r\n                        <input type=\"file\" name=\"file\" id=\"file_up\"\r\n                        accept=\"image/*\" onChange={changeAvatar} />\r\n                    </span>\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"fullname\">Full Name</label>\r\n                    <div className=\"position-relative\">\r\n                        <input type=\"text\" className=\"form-control\" id=\"fullname\"\r\n                        name=\"fullname\" value={fullname} onChange={handleInput} />\r\n                        <small className=\"text-danger position-absolute\"\r\n                        style={{top: '50%', right: '5px', transform: 'translateY(-50%)'}}>\r\n                            {fullname.length}/25\r\n                        </small>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"mobile\">Mobile</label>\r\n                    <input type=\"text\" name=\"mobile\" value={mobile}\r\n                    className=\"form-control\" onChange={handleInput} />\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"address\">Address</label>\r\n                    <input type=\"text\" name=\"address\" value={address}\r\n                    className=\"form-control\" onChange={handleInput} />\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"website\">Website</label>\r\n                    <input type=\"text\" name=\"website\" value={website}\r\n                    className=\"form-control\" onChange={handleInput} />\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"story\">Story</label>\r\n                    <textarea name=\"story\" value={story} cols=\"30\" rows=\"4\"\r\n                    className=\"form-control\" onChange={handleInput} />\r\n\r\n                    <small className=\"text-danger d-block text-right\">\r\n                        {story.length}/200\r\n                    </small>\r\n                </div>\r\n\r\n                <label htmlFor=\"gender\">Gender</label>\r\n                <div className=\"input-group-prepend px-0 mb-4\">\r\n                    <select name=\"gender\" id=\"gender\" value={gender}\r\n                    className=\"custom-select text-capitalize\"\r\n                    onChange={handleInput}>\r\n                        <option value=\"male\">Male</option>\r\n                        <option value=\"female\">Female</option>\r\n                        <option value=\"other\">Other</option>\r\n                    </select>\r\n                </div>\r\n\r\n                <button className=\"btn btn-info w-100\" type=\"submit\">Save</button>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default EditProfile\r\n","import React from 'react'\r\nimport UserCard from '../UserCard'\r\nimport FollowBtn from '../FollowBtn'\r\nimport { useSelector } from 'react-redux'\r\n\r\nconst Followers = ({users, setShowFollowers}) => {\r\n    const { auth } = useSelector(state => state)\r\n    return (\r\n        <div className=\"follow\">\r\n            <div className=\"follow_box\">\r\n                <h5 className=\"text-center\">Followers</h5>\r\n                <hr/>\r\n                \r\n                <div className=\"follow_content\">\r\n                    {\r\n                        users.map(user => (\r\n                            <UserCard key={user._id} user={user} setShowFollowers={setShowFollowers} >\r\n                                {\r\n                                    auth.user._id !== user._id && <FollowBtn user={user} />\r\n                                }\r\n                            </UserCard>\r\n                        ))\r\n                    }\r\n                </div>\r\n                \r\n\r\n                <div className=\"close\" onClick={() => setShowFollowers(false)}>\r\n                    &times;\r\n                </div>\r\n                \r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Followers\r\n","import React from 'react'\r\nimport UserCard from '../UserCard'\r\nimport FollowBtn from '../FollowBtn'\r\nimport { useSelector } from 'react-redux'\r\n\r\nconst Following = ({users, setShowFollowing}) => {\r\n    const { auth } = useSelector(state => state)\r\n    return (\r\n        <div className=\"follow\">\r\n            <div className=\"follow_box\">\r\n                <h5 className=\"text-center\">Following</h5>\r\n                <hr/>\r\n\r\n                <div className=\"follow_content\">\r\n                    {\r\n                        users.map(user => (\r\n                            <UserCard key={user._id} user={user} setShowFollowing={setShowFollowing} >\r\n                                {\r\n                                    auth.user._id !== user._id && <FollowBtn user={user} />\r\n                                }\r\n                            </UserCard>\r\n                        ))\r\n                    }\r\n                </div>\r\n\r\n                <div className=\"close\" onClick={() => setShowFollowing(false)}>\r\n                    &times;\r\n                </div>\r\n                \r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Following\r\n","import React, { useState, useEffect } from 'react'\r\nimport Avatar from '../Avatar'\r\nimport EditProfile from './EditProfile'\r\nimport FollowBtn from '../FollowBtn'\r\nimport Followers from './Followers'\r\nimport Following from './Following'\r\nimport { GLOBALTYPES } from '../../redux/actions/globalTypes'\r\n\r\nconst Info = ({id, auth, profile, dispatch}) => {\r\n    const [userData, setUserData] = useState([])\r\n    const [onEdit, setOnEdit] = useState(false)\r\n\r\n    const [showFollowers, setShowFollowers] = useState(false)\r\n    const [showFollowing, setShowFollowing] = useState(false)\r\n\r\n    useEffect(() => {\r\n        if(id === auth.user._id){\r\n            setUserData([auth.user])\r\n        }else{\r\n            const newData = profile.users.filter(user => user._id === id)\r\n            setUserData(newData)\r\n        }\r\n    }, [id, auth, dispatch, profile.users])\r\n\r\n\r\n    useEffect(() => {\r\n        if(showFollowers || showFollowing || onEdit){\r\n            dispatch({ type: GLOBALTYPES.MODAL, payload: true})\r\n        }else{\r\n            dispatch({ type: GLOBALTYPES.MODAL, payload: false})\r\n        }\r\n    },[showFollowers, showFollowing, onEdit, dispatch])\r\n    \r\n\r\n    return (\r\n        <div className=\"info\">\r\n            {\r\n                userData.map(user => (\r\n                    <div className=\"info_container\" key={user._id}>\r\n                        <Avatar src={user.avatar} size=\"supper-avatar\" />\r\n\r\n                        <div className=\"info_content\">\r\n                            <div className=\"info_content_title\">\r\n                                <h2>{user.username}</h2>\r\n                                {\r\n                                    user._id === auth.user._id\r\n                                    ?  <button className=\"btn btn-outline-info\"\r\n                                    onClick={() => setOnEdit(true)}>\r\n                                        Edit Profile\r\n                                    </button>\r\n                                    \r\n                                    : <FollowBtn user={user} />\r\n                                }\r\n                               \r\n                                \r\n                            </div>\r\n\r\n                            <div className=\"follow_btn\">\r\n                                <span className=\"mr-4\" onClick={() => setShowFollowers(true)}>\r\n                                    {user.followers.length} Followers\r\n                                </span>\r\n                                <span className=\"ml-4\" onClick={() => setShowFollowing(true)}>\r\n                                    {user.following.length} Following\r\n                                </span>\r\n                            </div>\r\n\r\n                            <h6>{user.fullname} <span className=\"text-danger\">{user.mobile}</span></h6>\r\n                            <p className=\"m-0\">{user.address}</p>\r\n                            <h6 className=\"m-0\">{user.email}</h6>\r\n                            <a href={user.website} target=\"_blank\" rel=\"noreferrer\">\r\n                                {user.website}\r\n                            </a>\r\n                            <p>{user.story}</p>\r\n                        </div>\r\n\r\n                        {\r\n                            onEdit && <EditProfile setOnEdit={setOnEdit} />\r\n                        }\r\n\r\n                        {\r\n                            showFollowers &&\r\n                            <Followers \r\n                            users={user.followers} \r\n                            setShowFollowers={setShowFollowers} \r\n                            />\r\n                        }\r\n                        {\r\n                            showFollowing &&\r\n                            <Following \r\n                            users={user.following} \r\n                            setShowFollowing={setShowFollowing} \r\n                            />\r\n                        }\r\n                    </div>\r\n                ))\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Info\r\n","import React, { useState, useEffect } from 'react'\r\nimport PostThumb from '../PostThumb'\r\nimport LoadIcon from '../../images/loading.gif'\r\nimport LoadMoreBtn from '../LoadMoreBtn'\r\nimport { getDataAPI } from '../../utils/fetchData'\r\nimport { PROFILE_TYPES } from '../../redux/actions/profileAction'\r\n\r\nconst Posts = ({auth, id, dispatch, profile}) => {\r\n    const [posts, setPosts] = useState([])\r\n    const [result, setResult] = useState(9)\r\n    const [page, setPage] = useState(0)\r\n    const [load, setLoad] = useState(false)\r\n\r\n    useEffect(() => {\r\n        profile.posts.forEach(data => {\r\n            if(data._id === id){\r\n                setPosts(data.posts)\r\n                setResult(data.result)\r\n                setPage(data.page)\r\n            }\r\n        })\r\n    },[profile.posts, id])\r\n\r\n    const handleLoadMore = async () => {\r\n        setLoad(true)\r\n        const res = await getDataAPI(`user_posts/${id}?limit=${page * 9}`, auth.token)\r\n        const newData = {...res.data, page: page + 1, _id: id}\r\n        dispatch({type: PROFILE_TYPES.UPDATE_POST, payload: newData})\r\n        setLoad(false)\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <PostThumb posts={posts} result={result} />\r\n\r\n            {\r\n                load && <img src={LoadIcon} alt=\"loading\" className=\"d-block mx-auto\" />\r\n            }\r\n\r\n            \r\n            <LoadMoreBtn result={result} page={page}\r\n            load={load} handleLoadMore={handleLoadMore} />\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Posts\r\n","import React, { useState, useEffect } from 'react'\r\nimport PostThumb from '../PostThumb'\r\nimport LoadIcon from '../../images/loading.gif'\r\nimport LoadMoreBtn from '../LoadMoreBtn'\r\nimport { getDataAPI } from '../../utils/fetchData'\r\nimport { GLOBALTYPES } from '../../redux/actions/globalTypes'\r\n\r\nconst Saved = ({auth, dispatch}) => {\r\n    const [savePosts, setSavePosts] = useState([])\r\n    const [result, setResult] = useState(9)\r\n    const [page, setPage] = useState(2)\r\n    const [load, setLoad] = useState(false)\r\n\r\n    useEffect(() => {\r\n        setLoad(true)\r\n        getDataAPI('getSavePosts', auth.token)\r\n        .then(res => {\r\n            setSavePosts(res.data.savePosts)\r\n            setResult(res.data.result)\r\n            setLoad(false)\r\n        })\r\n        .catch(err => {\r\n            dispatch({type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg}})\r\n        })\r\n\r\n        return () => setSavePosts([])\r\n    },[auth.token, dispatch])\r\n\r\n    const handleLoadMore = async () => {\r\n        setLoad(true)\r\n        const res = await getDataAPI(`getSavePosts?limit=${page * 9}`, auth.token)\r\n        setSavePosts(res.data.savePosts)\r\n        setResult(res.data.result)\r\n        setPage(page + 1)\r\n        setLoad(false)\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <PostThumb posts={savePosts} result={result} />\r\n\r\n            {\r\n                load && <img src={LoadIcon} alt=\"loading\" className=\"d-block mx-auto\" />\r\n            }\r\n\r\n            \r\n            <LoadMoreBtn result={result} page={page}\r\n            load={load} handleLoadMore={handleLoadMore} />\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Saved\r\n","import React, { useEffect, useState } from 'react'\r\n\r\nimport Info from '../../components/profile/Info'\r\nimport Posts from '../../components/profile/Posts'\r\nimport Saved from '../../components/profile/Saved'\r\n\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport LoadIcon from '../../images/loading.gif'\r\nimport { getProfileUsers } from '../../redux/actions/profileAction'\r\nimport { useParams } from 'react-router-dom'\r\n\r\n\r\nconst Profile = () => {\r\n    const { profile, auth } = useSelector(state => state)\r\n    const dispatch = useDispatch()\r\n\r\n    const { id } = useParams()\r\n    const [saveTab, setSaveTab] = useState(false)\r\n\r\n    useEffect(() => {\r\n        if(profile.ids.every(item => item !== id)){\r\n            dispatch(getProfileUsers({id, auth}))\r\n        }\r\n    },[id, auth, dispatch, profile.ids])\r\n\r\n    return (\r\n        <div className=\"profile\">\r\n            \r\n            <Info auth={auth} profile={profile} dispatch={dispatch} id={id} />\r\n\r\n            {\r\n                auth.user._id === id &&\r\n                <div className=\"profile_tab\">\r\n                    <button className={saveTab ? '' : 'active'} onClick={() => setSaveTab(false)}>Posts</button>\r\n                    <button className={saveTab ? 'active' : ''} onClick={() => setSaveTab(true)}>Saved</button>\r\n                </div>\r\n            }\r\n\r\n            {\r\n                profile.loading \r\n                ? <img className=\"d-block mx-auto\" src={LoadIcon} alt=\"loading\" />\r\n                : <>\r\n                    {\r\n                        saveTab\r\n                        ? <Saved auth={auth} dispatch={dispatch} />\r\n                        : <Posts auth={auth} profile={profile} dispatch={dispatch} id={id} />\r\n                    }\r\n                </>\r\n            }\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Profile\r\n","import React from 'react'\r\n\r\nconst Times = ({total}) => {\r\n    return (\r\n        <div>\r\n            <span>\r\n                {\r\n                    (parseInt(total/3600)).toString().length < 2\r\n                    ? '0' + (parseInt(total/3600))\r\n                    : (parseInt(total/3600))\r\n                }\r\n            </span>\r\n            <span>:</span>\r\n\r\n            <span>\r\n                {\r\n                    (parseInt(total/60)).toString().length < 2\r\n                    ? '0' + (parseInt(total/60))\r\n                    : (parseInt(total/60))\r\n                }\r\n            </span>\r\n            <span>:</span>\r\n\r\n            <span>\r\n                {\r\n                    (total%60).toString().length < 2\r\n                    ? '0' + (total%60) + 's'\r\n                    : (total%60) + 's'\r\n                }\r\n            </span>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Times\r\n","import React from 'react'\r\nimport Avatar from '../Avatar'\r\nimport { imageShow, videoShow } from '../../utils/mediaShow'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { deleteMessages } from '../../redux/actions/messageAction'\r\nimport Times from './Times'\r\n\r\nconst MsgDisplay = ({user, msg, theme, data}) => {\r\n    const { auth } = useSelector(state => state)\r\n    const dispatch = useDispatch()\r\n\r\n    const handleDeleteMessages = () => {\r\n        if(!data) return;\r\n        \r\n        if(window.confirm('Do you want to delete?')){\r\n            dispatch(deleteMessages({msg, data, auth}))\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className=\"chat_title\">\r\n                <Avatar src={user.avatar} size=\"small-avatar\" />\r\n                <span>{user.username}</span>\r\n            </div>\r\n\r\n            <div className=\"you_content\">\r\n                { \r\n                    user._id === auth.user._id && \r\n                    <i className=\"fas fa-trash text-danger\"\r\n                    onClick={handleDeleteMessages} />\r\n                }\r\n\r\n                <div>\r\n                    {\r\n                        msg.text && \r\n                        <div className=\"chat_text\"\r\n                        style={{filter: theme ? 'invert(1)' : 'invert(0)'}}>\r\n                            {msg.text}\r\n                        </div>\r\n                    }\r\n                    {\r\n                        msg.media.map((item, index) => (\r\n                            <div key={index}>\r\n                                {\r\n                                    item.url.match(/video/i)\r\n                                    ? videoShow(item.url, theme)\r\n                                    : imageShow(item.url, theme)\r\n                                }\r\n                            </div>\r\n                        ))\r\n                    }\r\n                </div>\r\n            \r\n                {\r\n                    msg.call &&\r\n                    <button className=\"btn d-flex align-items-center py-3\"\r\n                    style={{background: '#eee', borderRadius: '10px'}}>\r\n\r\n                        <span className=\"material-icons font-weight-bold mr-1\"\r\n                        style={{ \r\n                            fontSize: '2.5rem', color: msg.call.times === 0 ? 'crimson' : 'green',\r\n                            filter: theme ? 'invert(1)' : 'invert(0)'\r\n                        }}>\r\n                            {\r\n                                msg.call.times === 0\r\n                                ? msg.call.video ? 'videocam_off' : 'phone_disabled'\r\n                                : msg.call.video ? 'video_camera_front' : 'call'\r\n                            }\r\n                        </span>\r\n\r\n                        <div className=\"text-left\">\r\n                            <h6>{msg.call.video ? 'Video Call' : 'Audio Call'}</h6>\r\n                            <small>\r\n                                {\r\n                                    msg.call.times > 0 \r\n                                    ? <Times total={msg.call.times} />\r\n                                    : new Date(msg.createdAt).toLocaleTimeString()\r\n                                }\r\n                            </small>\r\n                        </div>\r\n\r\n                    </button>\r\n                }\r\n            \r\n            </div>\r\n\r\n            <div className=\"chat_time\">\r\n                {new Date(msg.createdAt).toLocaleString()}\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default MsgDisplay\r\n","import React, { useState, useEffect, useRef } from 'react'\r\nimport UserCard from '../UserCard'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { useParams, useHistory } from 'react-router-dom'\r\nimport MsgDisplay from './MsgDisplay'\r\nimport Icons from '../Icons'\r\nimport { GLOBALTYPES } from '../../redux/actions/globalTypes'\r\nimport { imageShow, videoShow } from '../../utils/mediaShow'\r\nimport { imageUpload } from '../../utils/imageUpload'\r\nimport { addMessage, getMessages, loadMoreMessages, deleteConversation } from '../../redux/actions/messageAction'\r\nimport LoadIcon from '../../images/loading.gif'\r\n\r\nconst RightSide = () => {\r\n    const { auth, message, theme, socket, peer } = useSelector(state => state)\r\n    const dispatch = useDispatch()\r\n\r\n    const { id } = useParams()\r\n    const [user, setUser] = useState([])\r\n    const [text, setText] = useState('')\r\n    const [media, setMedia] = useState([])\r\n    const [loadMedia, setLoadMedia] = useState(false)\r\n\r\n    const refDisplay = useRef()\r\n    const pageEnd = useRef()\r\n\r\n    const [data, setData] = useState([])\r\n    const [result, setResult] = useState(9)\r\n    const [page, setPage] = useState(0)\r\n    const [isLoadMore, setIsLoadMore] = useState(0)\r\n\r\n    const history = useHistory()\r\n\r\n    useEffect(() => {\r\n        const newData = message.data.find(item => item._id === id)\r\n        if(newData){\r\n            setData(newData.messages)\r\n            setResult(newData.result)\r\n            setPage(newData.page)\r\n        }\r\n    },[message.data, id])\r\n\r\n    useEffect(() => {\r\n        if(id && message.users.length > 0){\r\n            setTimeout(() => {\r\n                refDisplay.current.scrollIntoView({behavior: 'smooth', block: 'end'})\r\n            },50)\r\n\r\n            const newUser = message.users.find(user => user._id === id)\r\n            if(newUser) setUser(newUser)\r\n        }\r\n    }, [message.users, id])\r\n\r\n    const handleChangeMedia = (e) => {\r\n        const files = [...e.target.files]\r\n        let err = \"\"\r\n        let newMedia = []\r\n\r\n        files.forEach(file => {\r\n            if(!file) return err = \"File does not exist.\"\r\n\r\n            if(file.size > 1024 * 1024 * 5){\r\n                return err = \"The image/video largest is 5mb.\"\r\n            }\r\n\r\n            return newMedia.push(file)\r\n        })\r\n\r\n        if(err) dispatch({ type: GLOBALTYPES.ALERT, payload: {error: err} })\r\n        setMedia([...media, ...newMedia])\r\n    }\r\n\r\n    const handleDeleteMedia = (index) => {\r\n        const newArr = [...media]\r\n        newArr.splice(index, 1)\r\n        setMedia(newArr)\r\n    }\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault()\r\n        if(!text.trim() && media.length === 0) return;\r\n        setText('')\r\n        setMedia([])\r\n        setLoadMedia(true)\r\n\r\n        let newArr = [];\r\n        if(media.length > 0) newArr = await imageUpload(media)\r\n\r\n        const msg = {\r\n            sender: auth.user._id,\r\n            recipient: id,\r\n            text, \r\n            media: newArr,\r\n            createdAt: new Date().toISOString()\r\n        }\r\n\r\n        setLoadMedia(false)\r\n        await dispatch(addMessage({msg, auth, socket}))\r\n        if(refDisplay.current){\r\n            refDisplay.current.scrollIntoView({behavior: 'smooth', block: 'end'})\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        const getMessagesData = async () => {\r\n            if(message.data.every(item => item._id !== id)){\r\n                await dispatch(getMessages({auth, id}))\r\n                setTimeout(() => {\r\n                    refDisplay.current.scrollIntoView({behavior: 'smooth', block: 'end'})\r\n                },50)\r\n            }\r\n        }\r\n        getMessagesData()\r\n    },[id, dispatch, auth, message.data])\r\n\r\n\r\n    // Load More\r\n    useEffect(() => {\r\n        const observer = new IntersectionObserver(entries => {\r\n            if(entries[0].isIntersecting){\r\n                setIsLoadMore(p => p + 1)\r\n            }\r\n        },{\r\n            threshold: 0.1\r\n        })\r\n\r\n        observer.observe(pageEnd.current)\r\n    },[setIsLoadMore])\r\n\r\n    useEffect(() => {\r\n        if(isLoadMore > 1){\r\n            if(result >= page * 9){\r\n                dispatch(loadMoreMessages({auth, id, page: page + 1}))\r\n                setIsLoadMore(1)\r\n            }\r\n        }\r\n        // eslint-disable-next-line\r\n    },[isLoadMore])\r\n\r\n    const handleDeleteConversation = () => {\r\n        if(window.confirm('Do you want to delete?')){\r\n            dispatch(deleteConversation({auth, id}))\r\n            return history.push('/message')\r\n        }\r\n    }\r\n\r\n    // Call\r\n    const caller = ({video}) => {\r\n        const { _id, avatar, username, fullname } = user\r\n\r\n        const msg = {\r\n            sender: auth.user._id,\r\n            recipient: _id, \r\n            avatar, username, fullname, video\r\n        }\r\n        dispatch({ type: GLOBALTYPES.CALL, payload: msg })\r\n    }\r\n\r\n    const callUser = ({video}) => {\r\n        const { _id, avatar, username, fullname } = auth.user\r\n\r\n        const msg = {\r\n            sender: _id,\r\n            recipient: user._id, \r\n            avatar, username, fullname, video\r\n        }\r\n\r\n        if(peer.open) msg.peerId = peer._id\r\n\r\n        socket.emit('callUser', msg)\r\n    }\r\n\r\n    const handleAudioCall = () => {\r\n        caller({video: false})\r\n        callUser({video: false})\r\n    }\r\n    \r\n    const handleVideoCall = () => {\r\n        caller({video: true})\r\n        callUser({video: true})\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className=\"message_header\" style={{cursor: 'pointer'}} >\r\n                {\r\n                    user.length !== 0 &&\r\n                    <UserCard user={user}>\r\n                        <div>\r\n                            <i className=\"fas fa-phone-alt\"\r\n                            onClick={handleAudioCall} />\r\n\r\n                            <i className=\"fas fa-video mx-3\"\r\n                            onClick={handleVideoCall} />\r\n\r\n                            <i className=\"fas fa-trash text-danger\"\r\n                            onClick={handleDeleteConversation} />\r\n                        </div>\r\n                    </UserCard>\r\n                }\r\n            </div>\r\n\r\n            <div className=\"chat_container\" \r\n            style={{height: media.length > 0 ? 'calc(100% - 180px)' : ''}} >\r\n                <div className=\"chat_display\" ref={refDisplay}>\r\n                    <button style={{marginTop: '-25px', opacity: 0}} ref={pageEnd}>\r\n                        Load more\r\n                    </button>\r\n\r\n                    {\r\n                        data.map((msg, index) => (\r\n                                <div key={index}>\r\n                                    {\r\n                                        msg.sender !== auth.user._id &&\r\n                                        <div className=\"chat_row other_message\">\r\n                                            <MsgDisplay user={user} msg={msg} theme={theme} />\r\n                                        </div>\r\n                                    }\r\n\r\n                                    {\r\n                                        msg.sender === auth.user._id &&\r\n                                        <div className=\"chat_row you_message\">\r\n                                            <MsgDisplay user={auth.user} msg={msg} theme={theme} data={data} />\r\n                                        </div>\r\n                                    }\r\n                                </div>\r\n                        ))\r\n                    }\r\n                    \r\n\r\n                   {\r\n                       loadMedia && \r\n                       <div className=\"chat_row you_message\">\r\n                           <img src={LoadIcon} alt=\"loading\"/>\r\n                       </div>\r\n                   }\r\n\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"show_media\" style={{display: media.length > 0 ? 'grid' : 'none'}} >\r\n                {\r\n                    media.map((item, index) => (\r\n                        <div key={index} id=\"file_media\">\r\n                            {\r\n                                item.type.match(/video/i)\r\n                                ? videoShow(URL.createObjectURL(item), theme)\r\n                                : imageShow(URL.createObjectURL(item), theme)\r\n                            }\r\n                            <span onClick={() => handleDeleteMedia(index)} >&times;</span>\r\n                        </div>\r\n                    ))\r\n                }\r\n            </div>\r\n\r\n            <form className=\"chat_input\" onSubmit={handleSubmit} >\r\n                <input type=\"text\" placeholder=\"Enter you message...\"\r\n                value={text} onChange={e => setText(e.target.value)}\r\n                style={{\r\n                    filter: theme ? 'invert(1)' : 'invert(0)',\r\n                    background: theme ? '#040404' : '',\r\n                    color: theme ? 'white' : ''\r\n                }} />\r\n\r\n                <Icons setContent={setText} content={text} theme={theme} />\r\n\r\n                <div className=\"file_upload\">\r\n                    <i className=\"fas fa-image text-danger\" />\r\n                    <input type=\"file\" name=\"file\" id=\"file\"\r\n                    multiple accept=\"image/*,video/*\" onChange={handleChangeMedia} />\r\n                </div>\r\n\r\n                <button type=\"submit\" className=\"material-icons\" \r\n                disabled={(text || media.length > 0) ? false : true}>\r\n                    near_me\r\n                </button>\r\n            </form>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default RightSide\r\n","import React from 'react'\r\nimport LeftSide from '../../components/message/LeftSide'\r\nimport RightSide from '../../components/message/RightSide'\r\n\r\nconst Conversation = () => {\r\n    return (\r\n        <div className=\"message d-flex\">\r\n            <div className=\"col-md-4 border-right px-0 left_mess\">\r\n                <LeftSide />\r\n            </div>\r\n\r\n            <div className=\"col-md-8 px-0\">\r\n                <RightSide />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Conversation\r\n","var map = {\n\t\"./contest\": 73,\n\t\"./contest.js\": 73,\n\t\"./discover\": 74,\n\t\"./discover.js\": 74,\n\t\"./geolocation\": 84,\n\t\"./geolocation.js\": 84,\n\t\"./home\": 61,\n\t\"./home.js\": 61,\n\t\"./login\": 59,\n\t\"./login.js\": 59,\n\t\"./message\": 54,\n\t\"./message/\": 54,\n\t\"./message/[id]\": 101,\n\t\"./message/[id].js\": 101,\n\t\"./message/index\": 54,\n\t\"./message/index.js\": 54,\n\t\"./post/[id]\": 85,\n\t\"./post/[id].js\": 85,\n\t\"./profile/[id]\": 100,\n\t\"./profile/[id].js\": 100,\n\t\"./register\": 60,\n\t\"./register.js\": 60\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 119;","import { GLOBALTYPES } from './globalTypes'\r\nimport { postDataAPI, deleteDataAPI, getDataAPI, patchDataAPI } from '../../utils/fetchData'\r\n\r\nexport const NOTIFY_TYPES = {\r\n    GET_NOTIFIES: 'GET_NOTIFIES',\r\n    CREATE_NOTIFY: 'CREATE_NOTIFY',\r\n    REMOVE_NOTIFY: 'REMOVE_NOTIFY',\r\n    UPDATE_NOTIFY: 'UPDATE_NOTIFY',\r\n    UPDATE_SOUND: 'UPDATE_SOUND',\r\n    DELETE_ALL_NOTIFIES: 'DELETE_ALL_NOTIFIES'\r\n}\r\n\r\nexport const createNotify = ({msg, auth, socket}) => async (dispatch) => {\r\n    try {\r\n        const res = await postDataAPI('notify', msg, auth.token)\r\n\r\n        socket.emit('createNotify', {\r\n            ...res.data.notify,\r\n            user: {\r\n                username: auth.user.username,\r\n                avatar: auth.user.avatar\r\n            }\r\n        })\r\n    } catch (err) {\r\n        dispatch({type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg}})\r\n    }\r\n}\r\n\r\nexport const removeNotify = ({msg, auth, socket}) => async (dispatch) => {\r\n    try {\r\n        await deleteDataAPI(`notify/${msg.id}?url=${msg.url}`, auth.token)\r\n        \r\n        socket.emit('removeNotify', msg)\r\n    } catch (err) {\r\n        dispatch({type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg}})\r\n    }\r\n}\r\n\r\nexport const getNotifies = (token) => async (dispatch) => {\r\n    try {\r\n        const res = await getDataAPI('notifies', token)\r\n        \r\n        dispatch({ type: NOTIFY_TYPES.GET_NOTIFIES, payload: res.data.notifies })\r\n    } catch (err) {\r\n        dispatch({type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg}})\r\n    }\r\n}\r\n\r\n\r\nexport const isReadNotify = ({msg, auth}) => async (dispatch) => {\r\n    dispatch({type: NOTIFY_TYPES.UPDATE_NOTIFY, payload: {...msg, isRead: true}})\r\n    try {\r\n        await patchDataAPI(`/isReadNotify/${msg._id}`, null, auth.token)\r\n    } catch (err) {\r\n        dispatch({type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg}})\r\n    }\r\n}\r\n\r\nexport const deleteAllNotifies = (token) => async (dispatch) => {\r\n    dispatch({type: NOTIFY_TYPES.DELETE_ALL_NOTIFIES, payload: []})\r\n    try {\r\n        await deleteDataAPI('deleteAllNotify', token)\r\n    } catch (err) {\r\n        dispatch({type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg}})\r\n    }\r\n}","import { GLOBALTYPES, DeleteData } from '../actions/globalTypes'\r\nimport { postDataAPI, getDataAPI, deleteDataAPI } from '../../utils/fetchData'\r\n\r\nexport const MESS_TYPES = {\r\n    ADD_USER: 'ADD_USER',\r\n    ADD_MESSAGE: 'ADD_MESSAGE',\r\n    GET_CONVERSATIONS: 'GET_CONVERSATIONS',\r\n    GET_MESSAGES: 'GET_MESSAGES',\r\n    UPDATE_MESSAGES: 'UPDATE_MESSAGES',\r\n    DELETE_MESSAGES: 'DELETE_MESSAGES',\r\n    DELETE_CONVERSATION: 'DELETE_CONVERSATION',\r\n    CHECK_ONLINE_OFFLINE: 'CHECK_ONLINE_OFFLINE'\r\n}\r\n\r\n\r\n\r\nexport const addMessage = ({msg, auth, socket}) => async (dispatch) =>{\r\n    dispatch({type: MESS_TYPES.ADD_MESSAGE, payload: msg})\r\n\r\n    const { _id, avatar, fullname, username } = auth.user\r\n    socket.emit('addMessage', {...msg, user: { _id, avatar, fullname, username } })\r\n    \r\n    try {\r\n        await postDataAPI('message', msg, auth.token)\r\n    } catch (err) {\r\n        dispatch({type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg}})\r\n    }\r\n}\r\n\r\nexport const getConversations = ({auth, page = 1}) => async (dispatch) => {\r\n    try {\r\n        const res = await getDataAPI(`conversations?limit=${page * 9}`, auth.token)\r\n        \r\n        let newArr = [];\r\n        res.data.conversations.forEach(item => {\r\n            item.recipients.forEach(cv => {\r\n                if(cv._id !== auth.user._id){\r\n                    newArr.push({...cv, text: item.text, media: item.media, call: item.call})\r\n                }\r\n            })\r\n        })\r\n\r\n        dispatch({\r\n            type: MESS_TYPES.GET_CONVERSATIONS, \r\n            payload: {newArr, result: res.data.result}\r\n        })\r\n\r\n    } catch (err) {\r\n        dispatch({type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg}})\r\n    }\r\n}\r\n\r\nexport const getMessages = ({auth, id, page = 1}) => async (dispatch) => {\r\n    try {\r\n        const res = await getDataAPI(`message/${id}?limit=${page * 9}`, auth.token)\r\n        const newData = {...res.data, messages: res.data.messages.reverse()}\r\n\r\n        dispatch({type: MESS_TYPES.GET_MESSAGES, payload: {...newData, _id: id, page}})\r\n    } catch (err) {\r\n        dispatch({type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg}})\r\n    }\r\n}\r\n\r\nexport const loadMoreMessages = ({auth, id, page = 1}) => async (dispatch) => {\r\n    try {\r\n        const res = await getDataAPI(`message/${id}?limit=${page * 9}`, auth.token)\r\n        const newData = {...res.data, messages: res.data.messages.reverse()}\r\n\r\n        dispatch({type: MESS_TYPES.UPDATE_MESSAGES, payload: {...newData, _id: id, page}})\r\n    } catch (err) {\r\n        dispatch({type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg}})\r\n    }\r\n}\r\n\r\nexport const deleteMessages = ({msg, data, auth}) => async (dispatch) => {\r\n    const newData = DeleteData(data, msg._id)\r\n    dispatch({type: MESS_TYPES.DELETE_MESSAGES, payload: {newData, _id: msg.recipient}})\r\n    try {\r\n        await deleteDataAPI(`message/${msg._id}`, auth.token)\r\n    } catch (err) {\r\n        dispatch({type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg}})\r\n    }\r\n}\r\n\r\nexport const deleteConversation = ({auth, id}) => async (dispatch) => {\r\n    dispatch({type: MESS_TYPES.DELETE_CONVERSATION, payload: id})\r\n    try {\r\n        await deleteDataAPI(`conversation/${id}`, auth.token)\r\n    } catch (err) {\r\n        dispatch({type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg}})\r\n    }\r\n}","export default __webpack_public_path__ + \"static/media/loading.10625dac.gif\";","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 169;","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\n\r\nconst Avatar = ({src, size}) => {\r\n    const { theme } = useSelector(state => state)\r\n\r\n    return (\r\n        <img src={src} alt=\"avatar\" className={size}\r\n        style={{filter: `${theme ? 'invert(1)' : 'invert(0)'}`}} />\r\n    )\r\n}\r\n\r\nexport default Avatar\r\n","import React from 'react'\r\n\r\nconst NotFound = () => {\r\n    return (\r\n        <div className=\"position-relative\" style={{minHeight: 'calc(100vh - 70px)'}}>\r\n            <h2 className=\"position-absolute text-secondary\"\r\n            style={{top: '50%', left: '50%', transform: 'translate(-50%, -50%)'}}>\r\n                404 | Not Found.\r\n            </h2>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NotFound\r\n","import React from 'react'\r\nimport {useParams} from 'react-router-dom'\r\nimport NotFound from '../components/NotFound'\r\nimport { useSelector } from 'react-redux'\r\n\r\nconst generatePage = (pageName) => {\r\n    const component = () => require(`../pages/${pageName}`).default\r\n\r\n    try {\r\n        return React.createElement(component())\r\n    } catch (err) {\r\n        return <NotFound />\r\n    }\r\n}\r\n\r\nconst PageRender = () => {\r\n    const {page, id} = useParams()\r\n    const { auth } = useSelector(state => state)\r\n\r\n    let pageName = \"\";\r\n\r\n    if(auth.token){\r\n        if(id){\r\n            pageName = `${page}/[id]`\r\n        }else{\r\n            pageName = `${page}`\r\n        }\r\n    }\r\n\r\n    return generatePage(pageName)\r\n}\r\n\r\nexport default PageRender\r\n","import { Route, Redirect} from 'react-router-dom'\r\n\r\nconst PrivateRouter = (props) => {\r\n    const firstLogin = localStorage.getItem('firstLogin')\r\n    return firstLogin ? <Route {...props} /> : <Redirect to=\"/\" />\r\n}\r\n\r\nexport default PrivateRouter\r\n","import React from 'react'\r\n\r\nconst Loading = () => {\r\n    return (\r\n        <div className=\"position-fixed w-100 h-100 text-center loading\"\r\n        style={{background: \"#0008\", color: \"white\", top: 0, left: 0, zIndex: 50}}>\r\n\r\n            <svg width=\"205\" height=\"250\" viewBox=\"0 0 40 50\">\r\n                <polygon stroke=\"#fff\" strokeWidth=\"1\" fill=\"none\"\r\n                points=\"20,1 40,40 1,40\" />\r\n                <text fill=\"#fff\" x=\"5\" y=\"47\">Loading</text>\r\n            </svg>\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Loading\r\n","import React from 'react'\r\n\r\nconst Toast = ({msg, handleShow, bgColor}) => {\r\n    return (\r\n        <div className={`toast show position-fixed text-light ${bgColor}`}\r\n        style={{top: '5px', right: '5px', minWidth: '200px', zIndex: 50}}>\r\n            <div className={`toast-header text-light ${bgColor}`}>\r\n                <strong className=\"mr-auto text-light\">{msg.title}</strong>\r\n                <button className=\"ml-2 mb-1 close text-light\"\r\n                data-dismiss=\"toast\" style={{outline: 'none'}}\r\n                onClick={handleShow}>\r\n                    &times;\r\n                </button>\r\n            </div>\r\n            <div className=\"toast-body\">\r\n                {msg.body}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Toast\r\n","import React from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { GLOBALTYPES } from '../../redux/actions/globalTypes'\r\n\r\nimport Loading from './Loading'\r\nimport Toast from './Toast'\r\n\r\nconst Notify = () => {\r\n    const { alert } = useSelector(state => state)\r\n    const dispatch = useDispatch()\r\n\r\n    return (\r\n        <div>\r\n            {alert.loading && <Loading />}\r\n\r\n            {\r\n                alert.error && \r\n                <Toast msg={{title: 'Error', body: alert.error}}\r\n                handleShow={() => dispatch({type: GLOBALTYPES.ALERT, payload: {}})} \r\n                bgColor=\"bg-danger\" />\r\n            }\r\n\r\n            {\r\n                alert.success && \r\n                <Toast msg={{title: 'Success', body: alert.success}} \r\n                handleShow={() => dispatch({type: GLOBALTYPES.ALERT, payload: {}})}\r\n                bgColor=\"bg-success\" />\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Notify\r\n","import React from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport NoNotice from '../images/notice.png'\r\nimport { Link } from 'react-router-dom'\r\nimport Avatar from './Avatar'\r\nimport moment from 'moment'\r\nimport { isReadNotify, NOTIFY_TYPES, deleteAllNotifies } from '../redux/actions/notifyAction'\r\n\r\nconst NotifyModal = () => {\r\n    const { auth, notify } = useSelector(state => state)\r\n    const dispatch = useDispatch()\r\n\r\n    const handleIsRead = (msg) => {\r\n        dispatch(isReadNotify({msg, auth}))\r\n    }\r\n\r\n    const handleSound = () => {\r\n        dispatch({type: NOTIFY_TYPES.UPDATE_SOUND, payload: !notify.sound})\r\n    }\r\n\r\n    const handleDeleteAll = () => {\r\n        const newArr = notify.data.filter(item => item.isRead === false)\r\n        if(newArr.length === 0) return dispatch(deleteAllNotifies(auth.token))\r\n\r\n        if(window.confirm(`You have ${newArr.length} unread notices. Are you sure you want to delete all?`)){\r\n            return dispatch(deleteAllNotifies(auth.token))\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div style={{minWidth: '300px'}}>\r\n            <div className=\"d-flex justify-content-between align-items-center px-3\">\r\n                <h3>Notification</h3>\r\n                {\r\n                    notify.sound \r\n                    ? <i className=\"fas fa-bell text-danger\" \r\n                    style={{fontSize: '1.2rem', cursor: 'pointer'}}\r\n                    onClick={handleSound} />\r\n\r\n                    : <i className=\"fas fa-bell-slash text-danger\"\r\n                    style={{fontSize: '1.2rem', cursor: 'pointer'}}\r\n                    onClick={handleSound} />\r\n                }\r\n            </div>\r\n            <hr className=\"mt-0\" />\r\n\r\n            {\r\n                notify.data.length === 0 &&\r\n                <img src={NoNotice} alt=\"NoNotice\" className=\"w-100\" />\r\n            }\r\n\r\n            <div style={{maxHeight: 'calc(100vh - 200px)', overflow: 'auto'}}>\r\n                {\r\n                    notify.data.map((msg, index) => (\r\n                        <div key={index} className=\"px-2 mb-3\" >\r\n                            <Link to={`${msg.url}`} className=\"d-flex text-dark align-items-center\"\r\n                            onClick={() => handleIsRead(msg)}>\r\n                                <Avatar src={msg.user.avatar} size=\"big-avatar\" />\r\n\r\n                                <div className=\"mx-1 flex-fill\">\r\n                                    <div>\r\n                                        <strong className=\"mr-1\">{msg.user.username}</strong>\r\n                                        <span>{msg.text}</span>\r\n                                    </div>\r\n                                    {msg.content && <small>{msg.content.slice(0,20)}...</small>}\r\n                                </div>\r\n\r\n                                {\r\n                                    msg.image &&\r\n                                    <div style={{width: '30px'}}>\r\n                                        {\r\n                                            msg.image.match(/video/i)\r\n                                            ? <video src={msg.image} width=\"100%\" />\r\n                                            : <Avatar src={msg.image} size=\"medium-avatar\" />\r\n                                        }\r\n                                    </div>\r\n                                }\r\n                                \r\n                            </Link>\r\n                            <small className=\"text-muted d-flex justify-content-between px-2\">\r\n                                {moment(msg.createdAt).fromNow()}\r\n                                {\r\n                                    !msg.isRead && <i className=\"fas fa-circle text-primary\" />\r\n                                }\r\n                            </small>\r\n                        </div>\r\n                    ))\r\n                }\r\n\r\n            </div>\r\n\r\n            <hr className=\"my-1\" />\r\n            <div className=\"text-right text-danger mr-2\" style={{cursor: 'pointer'}}\r\n            onClick={handleDeleteAll}>\r\n                Delete All\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NotifyModal\r\n","export default \"data:image/png;base64,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\"","import React from 'react'\r\nimport { Link, useLocation } from 'react-router-dom'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { logout } from '../../redux/actions/authAction'\r\nimport { GLOBALTYPES } from '../../redux/actions/globalTypes'\r\nimport Avatar from '../Avatar'\r\nimport NotifyModal from '../NotifyModal'\r\n\r\nconst Menu = () => {\r\n    const navLinks = [\r\n        { label: 'Home', icon: 'home', path: '/'},\r\n        { label: 'Contest', icon: 'play_arrow', path: '/contest'},\r\n        { label: 'Message', icon: 'near_me', path: '/message'},\r\n        { label: 'Discover', icon: 'explore', path: '/discover'},\r\n        { label: 'Location', icon: 'location_on', path: '/geolocation'}\r\n    ]\r\n\r\n    const { auth, theme, notify } = useSelector(state => state)\r\n    const dispatch = useDispatch()\r\n    const { pathname } = useLocation()\r\n\r\n    const isActive = (pn) => {\r\n        if(pn === pathname) return 'active'\r\n    }\r\n\r\n    return (\r\n        <div className=\"menu\">\r\n            <ul className=\"navbar-nav flex-row\">\r\n                {\r\n                    navLinks.map((link, index) => (\r\n                        <li className={`nav-item px-2 ${isActive(link.path)}`} key={index}>\r\n                            <Link className=\"nav-link\" to={link.path}>\r\n                                <span className=\"material-icons\">{link.icon}</span>\r\n                            </Link>\r\n                        </li>\r\n                    ))\r\n                }\r\n\r\n                <li className=\"nav-item dropdown\" style={{opacity: 1}} >\r\n                    <span className=\"nav-link position-relative\" id=\"navbarDropdown\" \r\n                    role=\"button\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\r\n\r\n                        <span className=\"material-icons\" \r\n                        style={{color: notify.data.length > 0 ? 'crimson' : ''}}>\r\n                            favorite\r\n                        </span>\r\n\r\n                        <span className=\"notify_length\">{notify.data.length}</span>\r\n\r\n                    </span>\r\n\r\n                    <div className=\"dropdown-menu\" aria-labelledby=\"navbarDropdown\"\r\n                    style={{transform: 'translateX(75px)'}}>\r\n                        <NotifyModal />\r\n                    </div>\r\n                        \r\n                </li>\r\n           \r\n            \r\n                <li className=\"nav-item dropdown\" style={{opacity: 1}} >\r\n                    <span className=\"nav-link dropdown-toggle\" id=\"navbarDropdown\" \r\n                    role=\"button\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\r\n                        <Avatar src={auth.user.avatar} size=\"medium-avatar\" />\r\n                    </span>\r\n\r\n                    <div className=\"dropdown-menu\" aria-labelledby=\"navbarDropdown\">\r\n                    <Link className=\"dropdown-item\" to={`/profile/${auth.user._id}`}>Profile</Link>\r\n\r\n                    <label htmlFor=\"theme\" className=\"dropdown-item\"\r\n                    onClick={() => dispatch({\r\n                        type: GLOBALTYPES.THEME, payload: !theme\r\n                    })}>\r\n\r\n                        {theme ? 'Light mode' : 'Dark mode'}\r\n                    </label>\r\n\r\n                    <div className=\"dropdown-divider\"></div>\r\n                    <Link className=\"dropdown-item\" to=\"/\"\r\n                    onClick={() => dispatch(logout())}>\r\n                        Logout\r\n                    </Link>\r\n                </div>\r\n            </li>\r\n        </ul>\r\n    </div>\r\n\r\n    )\r\n}\r\n\r\nexport default Menu\r\n","import React, { useState } from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { getDataAPI } from '../../utils/fetchData'\r\nimport { GLOBALTYPES } from '../../redux/actions/globalTypes'\r\nimport UserCard from '../UserCard'\r\nimport LoadIcon from '../../images/loading.gif'\r\n\r\nconst Search = () => {\r\n    const [search, setSearch] = useState('')\r\n    const [users, setUsers] = useState([])\r\n\r\n    const { auth } = useSelector(state => state)\r\n    const dispatch = useDispatch()\r\n    const [load, setLoad] = useState(false)\r\n\r\n\r\n    const handleSearch = async (e) => {\r\n        e.preventDefault()\r\n        if(!search) return;\r\n\r\n        try {\r\n            setLoad(true)\r\n            const res = await getDataAPI(`search?username=${search}`, auth.token)\r\n            setUsers(res.data.users)\r\n            setLoad(false)\r\n        } catch (err) {\r\n            dispatch({\r\n                type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg}\r\n            })\r\n        }\r\n    }\r\n\r\n    const handleClose = () => {\r\n        setSearch('')\r\n        setUsers([])\r\n    }\r\n\r\n    return (\r\n        <form className=\"search_form\" onSubmit={handleSearch}>\r\n            <input type=\"text\" name=\"search\" value={search} id=\"search\" title=\"Enter to Search\"\r\n            onChange={e => setSearch(e.target.value.toLowerCase().replace(/ /g, ''))} />\r\n\r\n            <div className=\"search_icon\" style={{opacity: search ? 0 : 0.3}}>\r\n                <span className=\"material-icons\">search</span>\r\n                <span>Enter to Search</span>\r\n            </div>\r\n\r\n            <div className=\"close_search\" onClick={handleClose}\r\n            style={{opacity: users.length === 0 ? 0 : 1}} >\r\n                &times;\r\n            </div>\r\n\r\n            <button type=\"submit\" style={{display: 'none'}}>Search</button>\r\n\r\n            { load && <img className=\"loading\" src={LoadIcon} alt=\"loading\"  /> }\r\n\r\n            <div className=\"users\">\r\n                {\r\n                    search && users.map(user => (\r\n                        <UserCard \r\n                        key={user._id} \r\n                        user={user} \r\n                        border=\"border\"\r\n                        handleClose={handleClose} \r\n                        />\r\n                    ))\r\n                }\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default Search\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport Menu from './Menu'\r\nimport Search from './Search'\r\n\r\nconst Header = () => {\r\n\r\n    return (\r\n        <div className=\"header bg-light\">\r\n            <nav className=\"navbar navbar-expand-lg navbar-light \r\n            bg-light justify-content-between\">\r\n\r\n                <Link to=\"/\" className=\"logo\">\r\n                    <h1 className=\"navbar-brand text-uppercase p-0 m-0\"\r\n                    onClick={() => window.scrollTo({top: 0})}>\r\n                        Connect_U\r\n                    </h1>\r\n                </Link>\r\n\r\n                <Search />\r\n\r\n                <Menu />\r\n            </nav>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Header\r\n","import React, { useState, useRef, useEffect } from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { GLOBALTYPES } from '../redux/actions/globalTypes'\r\nimport { createPost, updatePost } from '../redux/actions/postAction'\r\nimport Icons from './Icons'\r\nimport { imageShow, videoShow } from '../utils/mediaShow'\r\n\r\nconst StatusModal = () => {\r\n    const { auth, theme, status, socket } = useSelector(state => state)\r\n    const dispatch = useDispatch()\r\n\r\n    const [content, setContent] = useState('')\r\n    const [images, setImages] = useState([])\r\n\r\n    const [stream, setStream] = useState(false)\r\n    const videoRef = useRef()\r\n    const refCanvas = useRef()\r\n    const [tracks, setTracks] = useState('')\r\n\r\n    const handleChangeImages = e => {\r\n        const files = [...e.target.files]\r\n        let err = \"\"\r\n        let newImages = []\r\n\r\n        files.forEach(file => {\r\n            if(!file) return err = \"File does not exist.\"\r\n\r\n            if(file.size > 1024 * 1024 * 5){\r\n                return err = \"The image/video largest is 5mb.\"\r\n            }\r\n\r\n            return newImages.push(file)\r\n        })\r\n\r\n        if(err) dispatch({ type: GLOBALTYPES.ALERT, payload: {error: err} })\r\n        setImages([...images, ...newImages])\r\n    }\r\n\r\n    const deleteImages = (index) => {\r\n        const newArr = [...images]\r\n        newArr.splice(index, 1)\r\n        setImages(newArr)\r\n    }\r\n\r\n    const handleStream = () => {\r\n        setStream(true)\r\n        if(navigator.mediaDevices && navigator.mediaDevices.getUserMedia){\r\n            navigator.mediaDevices.getUserMedia({video: true})\r\n            .then(mediaStream => {\r\n                videoRef.current.srcObject = mediaStream\r\n                videoRef.current.play()\r\n\r\n                const track = mediaStream.getTracks()\r\n                setTracks(track[0])\r\n            }).catch(err => console.log(err))\r\n        }\r\n    }\r\n\r\n    const handleCapture = () => {\r\n        const width = videoRef.current.clientWidth;\r\n        const height = videoRef.current.clientHeight;\r\n\r\n        refCanvas.current.setAttribute(\"width\", width)\r\n        refCanvas.current.setAttribute(\"height\", height)\r\n\r\n        const ctx = refCanvas.current.getContext('2d')\r\n        ctx.drawImage(videoRef.current, 0, 0, width, height)\r\n        let URL = refCanvas.current.toDataURL()\r\n        setImages([...images, {camera: URL}])\r\n    }\r\n\r\n    const handleStopStream = () => {\r\n        tracks.stop()\r\n        setStream(false)\r\n    }\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault()\r\n        if(images.length === 0)\r\n        return dispatch({ \r\n            type: GLOBALTYPES.ALERT, payload: {error: \"Please add your photo.\"}\r\n        })\r\n\r\n        if(status.onEdit){\r\n            dispatch(updatePost({content, images, auth, status}))\r\n        }else{\r\n            dispatch(createPost({content, images, auth, socket}))\r\n        }\r\n        \r\n\r\n        setContent('')\r\n        setImages([])\r\n        if(tracks) tracks.stop()\r\n        dispatch({ type: GLOBALTYPES.STATUS, payload: false})\r\n    }\r\n\r\n    useEffect(() => {\r\n        if(status.onEdit){\r\n            setContent(status.content)\r\n            setImages(status.images)\r\n        }\r\n    },[status])\r\n\r\n\r\n   \r\n\r\n    return (\r\n        <div className=\"status_modal\">\r\n            <form onSubmit={handleSubmit}>\r\n                <div className=\"status_header\">\r\n                    <h5 className=\"m-0\">Create Post</h5>\r\n                    <span onClick={() => dispatch({\r\n                        type: GLOBALTYPES.STATUS, payload: false\r\n                    })}>\r\n                        &times;\r\n                    </span>\r\n                </div>\r\n\r\n                <div className=\"status_body\">\r\n                    <textarea name=\"content\" value={content}\r\n                    placeholder={`${auth.user.username}, what are you thinking?`}\r\n                    onChange={e => setContent(e.target.value)}\r\n                    style={{\r\n                        filter: theme ? 'invert(1)' : 'invert(0)',\r\n                        color: theme ? 'white' : '#111',\r\n                        background: theme ? 'rgba(0,0,0,.03)' : '',\r\n                    }} />\r\n\r\n                    <div className=\"d-flex\">\r\n                        <div className=\"flex-fill\"></div>\r\n                        <Icons setContent={setContent} content={content} theme={theme} />\r\n                    </div>\r\n\r\n                    <div className=\"show_images\">\r\n                        {\r\n                            images.map((img, index) => (\r\n                                <div key={index} id=\"file_img\">\r\n                                    {\r\n                                        img.camera ? imageShow(img.camera, theme)\r\n                                        : img.url\r\n                                            ?<>\r\n                                                {\r\n                                                    img.url.match(/video/i)\r\n                                                    ? videoShow(img.url, theme) \r\n                                                    : imageShow(img.url, theme)\r\n                                                }\r\n                                            </>\r\n                                            :<>\r\n                                                {\r\n                                                    img.type.match(/video/i)\r\n                                                    ? videoShow(URL.createObjectURL(img), theme) \r\n                                                    : imageShow(URL.createObjectURL(img), theme)\r\n                                                }\r\n                                            </>\r\n                                    }\r\n                                    <span onClick={() => deleteImages(index)}>&times;</span>\r\n                                </div>\r\n                            ))\r\n                        }\r\n                    </div>\r\n\r\n                    {\r\n                        stream && \r\n                        <div className=\"stream position-relative\">\r\n                            <video autoPlay muted ref={videoRef} width=\"100%\" height=\"100%\"\r\n                            style={{filter: theme ? 'invert(1)' : 'invert(0)'}} />\r\n                            \r\n                            <span onClick={handleStopStream}>&times;</span>\r\n                            <canvas ref={refCanvas} style={{display: 'none'}} />\r\n                        </div>\r\n                    }\r\n\r\n                    <div className=\"input_images\">\r\n                        {\r\n                            stream \r\n                            ? <i className=\"fas fa-camera\" onClick={handleCapture} />\r\n                            : <>\r\n                                <i className=\"fas fa-camera\" onClick={handleStream} />\r\n\r\n                                <div className=\"file_upload\">\r\n                                    <i className=\"fas fa-image\" />\r\n                                    <input type=\"file\" name=\"file\" id=\"file\"\r\n                                    multiple accept=\"image/*,video/*\" onChange={handleChangeImages} />\r\n                                </div>\r\n                            </>\r\n                        }\r\n                        \r\n                    </div>\r\n\r\n                </div>\r\n\r\n                <div className=\"status_footer\">\r\n                    <button className=\"btn btn-secondary w-100\" type=\"submit\">\r\n                        Post\r\n                    </button>\r\n                </div>\r\n\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default StatusModal\r\n","export default __webpack_public_path__ + \"static/media/got-it-done-613.89a311f0.mp3\";","import React, { useEffect, useRef } from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { POST_TYPES } from './redux/actions/postAction'\r\nimport { GLOBALTYPES } from './redux/actions/globalTypes'\r\nimport { NOTIFY_TYPES } from './redux/actions/notifyAction'\r\nimport { MESS_TYPES } from './redux/actions/messageAction'\r\n\r\nimport audiobell from './audio/got-it-done-613.mp3'\r\n\r\n\r\nconst spawnNotification = (body, icon, url, title) => {\r\n    let options = {\r\n        body, icon\r\n    }\r\n    let n = new Notification(title, options)\r\n\r\n    n.onclick = e => {\r\n        e.preventDefault()\r\n        window.open(url, '_blank')\r\n    }\r\n}\r\n\r\nconst SocketClient = () => {\r\n    const { auth, socket, notify, online, call } = useSelector(state => state)\r\n    const dispatch = useDispatch()\r\n\r\n    const audioRef = useRef()\r\n\r\n    // joinUser\r\n    useEffect(() => {\r\n        socket.emit('joinUser', auth.user)\r\n    },[socket, auth.user])\r\n\r\n    // Likes\r\n    useEffect(() => {\r\n        socket.on('likeToClient', newPost =>{\r\n            dispatch({type: POST_TYPES.UPDATE_POST, payload: newPost})\r\n        })\r\n\r\n        return () => socket.off('likeToClient')\r\n    },[socket, dispatch])\r\n\r\n    useEffect(() => {\r\n        socket.on('unLikeToClient', newPost =>{\r\n            dispatch({type: POST_TYPES.UPDATE_POST, payload: newPost})\r\n        })\r\n\r\n        return () => socket.off('unLikeToClient')\r\n    },[socket, dispatch])\r\n\r\n\r\n    // Comments\r\n    useEffect(() => {\r\n        socket.on('createCommentToClient', newPost =>{\r\n            dispatch({type: POST_TYPES.UPDATE_POST, payload: newPost})\r\n        })\r\n\r\n        return () => socket.off('createCommentToClient')\r\n    },[socket, dispatch])\r\n\r\n    useEffect(() => {\r\n        socket.on('deleteCommentToClient', newPost =>{\r\n            dispatch({type: POST_TYPES.UPDATE_POST, payload: newPost})\r\n        })\r\n\r\n        return () => socket.off('deleteCommentToClient')\r\n    },[socket, dispatch])\r\n\r\n\r\n    // Follow\r\n    useEffect(() => {\r\n        socket.on('followToClient', newUser =>{\r\n            dispatch({type: GLOBALTYPES.AUTH, payload: {...auth, user: newUser}})\r\n        })\r\n\r\n        return () => socket.off('followToClient')\r\n    },[socket, dispatch, auth])\r\n\r\n    useEffect(() => {\r\n        socket.on('unFollowToClient', newUser =>{\r\n            dispatch({type: GLOBALTYPES.AUTH, payload: {...auth, user: newUser}})\r\n        })\r\n\r\n        return () => socket.off('unFollowToClient')\r\n    },[socket, dispatch, auth])\r\n\r\n\r\n    // Notification\r\n    useEffect(() => {\r\n        socket.on('createNotifyToClient', msg =>{\r\n            dispatch({type: NOTIFY_TYPES.CREATE_NOTIFY, payload: msg})\r\n\r\n            if(notify.sound) audioRef.current.play()\r\n            spawnNotification(\r\n                msg.user.username + ' ' + msg.text,\r\n                msg.user.avatar,\r\n                msg.url,\r\n                'Connect_U'\r\n            )\r\n        })\r\n\r\n        return () => socket.off('createNotifyToClient')\r\n    },[socket, dispatch, notify.sound])\r\n\r\n    useEffect(() => {\r\n        socket.on('removeNotifyToClient', msg =>{\r\n            dispatch({type: NOTIFY_TYPES.REMOVE_NOTIFY, payload: msg})\r\n        })\r\n\r\n        return () => socket.off('removeNotifyToClient')\r\n    },[socket, dispatch])\r\n\r\n\r\n    // Message\r\n    useEffect(() => {\r\n        socket.on('addMessageToClient', msg =>{\r\n            dispatch({type: MESS_TYPES.ADD_MESSAGE, payload: msg})\r\n\r\n            dispatch({\r\n                type: MESS_TYPES.ADD_USER, \r\n                payload: {\r\n                    ...msg.user, \r\n                    text: msg.text, \r\n                    media: msg.media\r\n                }\r\n            })\r\n        })\r\n\r\n        return () => socket.off('addMessageToClient')\r\n    },[socket, dispatch])\r\n\r\n    // Check User Online / Offline\r\n    useEffect(() => {\r\n        socket.emit('checkUserOnline', auth.user)\r\n    },[socket, auth.user])\r\n\r\n    useEffect(() => {\r\n        socket.on('checkUserOnlineToMe', data =>{\r\n            data.forEach(item => {\r\n                if(!online.includes(item.id)){\r\n                    dispatch({type: GLOBALTYPES.ONLINE, payload: item.id})\r\n                }\r\n            })\r\n        })\r\n\r\n        return () => socket.off('checkUserOnlineToMe')\r\n    },[socket, dispatch, online])\r\n\r\n    useEffect(() => {\r\n        socket.on('checkUserOnlineToClient', id =>{\r\n            if(!online.includes(id)){\r\n                dispatch({type: GLOBALTYPES.ONLINE, payload: id})\r\n            }\r\n        })\r\n\r\n        return () => socket.off('checkUserOnlineToClient')\r\n    },[socket, dispatch, online])\r\n\r\n    // Check User Offline\r\n    useEffect(() => {\r\n        socket.on('CheckUserOffline', id =>{\r\n            dispatch({type: GLOBALTYPES.OFFLINE, payload: id})\r\n        })\r\n\r\n        return () => socket.off('CheckUserOffline')\r\n    },[socket, dispatch])\r\n\r\n\r\n    // Call User\r\n    useEffect(() => {\r\n        socket.on('callUserToClient', data =>{\r\n            dispatch({type: GLOBALTYPES.CALL, payload: data})\r\n        })\r\n\r\n        return () => socket.off('callUserToClient')\r\n    },[socket, dispatch])\r\n\r\n    useEffect(() => {\r\n        socket.on('userBusy', data =>{\r\n            dispatch({type: GLOBALTYPES.ALERT, payload: {error: `${call.username} is busy!`}})\r\n        })\r\n\r\n        return () => socket.off('userBusy')\r\n    },[socket, dispatch, call])\r\n\r\n\r\n\r\n    return (\r\n        <>\r\n            <audio controls ref={audioRef} style={{display: 'none'}} >\r\n                <source src={audiobell} type=\"audio/mp3\" />\r\n            </audio>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default SocketClient\r\n","export default __webpack_public_path__ + \"static/media/ringring.278d7816.mp3\";","import React, { useState, useEffect, useRef, useCallback } from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport Avatar from '../Avatar'\r\nimport { GLOBALTYPES } from '../../redux/actions/globalTypes'\r\nimport { addMessage } from '../../redux/actions/messageAction'\r\nimport RingRing from '../../audio/ringring.mp3'\r\n\r\nconst CallModal = () => {\r\n    const { call, auth, peer, socket, theme } = useSelector(state => state)\r\n    const dispatch = useDispatch()\r\n\r\n    const [hours, setHours] = useState(0)\r\n    const [mins, setMins] = useState(0)\r\n    const [second, setSecond] = useState(0)\r\n    const [total, setTotal] = useState(0)\r\n\r\n    const [answer, setAnswer] = useState(false)\r\n    const youVideo = useRef()\r\n    const otherVideo = useRef()\r\n    const [tracks, setTracks] = useState(null)\r\n    const [newCall, setNewCall] = useState(null)\r\n\r\n    // Set Time\r\n    useEffect(() => {\r\n        const setTime = () => {\r\n            setTotal(t => t + 1)\r\n            setTimeout(setTime, 1000)\r\n        }\r\n        setTime()\r\n\r\n        return () => setTotal(0)\r\n    },[])\r\n\r\n    useEffect(() => {\r\n        setSecond(total%60)\r\n        setMins(parseInt(total/60))\r\n        setHours(parseInt(total/3600))\r\n    },[total])\r\n\r\n\r\n    // End Call\r\n    const addCallMessage = useCallback((call, times, disconnect) => {\r\n        if(call.recipient !== auth.user._id || disconnect){\r\n            const msg = {\r\n                sender: call.sender,\r\n                recipient: call.recipient,\r\n                text: '', \r\n                media: [],\r\n                call: {video: call.video, times},\r\n                createdAt: new Date().toISOString()\r\n            }\r\n            dispatch(addMessage({msg, auth, socket}))\r\n        }\r\n    },[auth, dispatch, socket])\r\n\r\n    const handleEndCall = () => {\r\n        tracks && tracks.forEach(track => track.stop())\r\n        if(newCall) newCall.close()\r\n        let times = answer ? total : 0\r\n        socket.emit('endCall', {...call, times})\r\n        \r\n        addCallMessage(call, times)\r\n        dispatch({type: GLOBALTYPES.CALL, payload: null })\r\n    }\r\n\r\n    useEffect(() => {\r\n        if(answer){\r\n            setTotal(0)\r\n        }else{\r\n            const timer = setTimeout(() => {\r\n                socket.emit('endCall', {...call, times: 0})\r\n                addCallMessage(call, 0)\r\n                dispatch({type: GLOBALTYPES.CALL, payload: null })\r\n            }, 15000)\r\n    \r\n            return () => clearTimeout(timer)\r\n        }\r\n        \r\n    },[dispatch, answer, call, socket, addCallMessage])\r\n\r\n    useEffect(() => {\r\n        socket.on('endCallToClient', data => {\r\n            tracks && tracks.forEach(track => track.stop())\r\n            if(newCall) newCall.close()\r\n            addCallMessage(data, data.times)\r\n            dispatch({ type: GLOBALTYPES.CALL, payload: null })\r\n        })\r\n\r\n        return () => socket.off('endCallToClient')\r\n    },[socket, dispatch, tracks, addCallMessage, newCall])\r\n\r\n\r\n    // Stream Media\r\n    const openStream = (video) => {\r\n        const config = { audio: true, video }\r\n        return navigator.mediaDevices.getUserMedia(config)\r\n    }\r\n\r\n    const playStream = (tag, stream) => {\r\n        let video = tag;\r\n        video.srcObject = stream;\r\n        video.play()\r\n    }\r\n\r\n    // Answer Call\r\n    const handleAnswer = () => {\r\n        openStream(call.video).then(stream => {\r\n            playStream(youVideo.current, stream)\r\n            const track = stream.getTracks()\r\n            setTracks(track)\r\n            \r\n            const newCall = peer.call(call.peerId, stream);\r\n            newCall.on('stream', function(remoteStream) {\r\n                playStream(otherVideo.current, remoteStream)\r\n            });\r\n            setAnswer(true)\r\n            setNewCall(newCall)\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        peer.on('call', newCall => {\r\n            openStream(call.video).then(stream => {\r\n                if(youVideo.current){\r\n                    playStream(youVideo.current, stream)\r\n                }\r\n                const track = stream.getTracks()\r\n                setTracks(track)\r\n                \r\n                newCall.answer(stream)\r\n                newCall.on('stream', function(remoteStream) {\r\n                    if(otherVideo.current){\r\n                        playStream(otherVideo.current, remoteStream)\r\n                    }\r\n                });\r\n                setAnswer(true) \r\n                setNewCall(newCall)\r\n            })\r\n        })\r\n        return () => peer.removeListener('call')\r\n    },[peer, call.video])\r\n\r\n    // Disconnect\r\n    useEffect(() => {\r\n        socket.on('callerDisconnect', () => {\r\n            tracks && tracks.forEach(track => track.stop())\r\n            if(newCall) newCall.close()\r\n            let times = answer ? total : 0\r\n            addCallMessage(call, times, true)\r\n\r\n            dispatch({type: GLOBALTYPES.CALL, payload: null })\r\n\r\n            dispatch({\r\n                type: GLOBALTYPES.ALERT, \r\n                payload: {error: `The ${call.username} disconnect`} \r\n            })\r\n        })\r\n\r\n        return () => socket.off('callerDisconnect')\r\n    },[socket, tracks, dispatch, call, addCallMessage, answer, total, newCall])\r\n\r\n    // Play - Pause Audio\r\n    const playAudio = (newAudio) => {\r\n        newAudio.play()\r\n    }\r\n\r\n    const pauseAudio = (newAudio) => {\r\n        newAudio.pause()\r\n        newAudio.currentTime = 0\r\n    }\r\n\r\n    useEffect(() => {\r\n        let newAudio = new Audio(RingRing)\r\n        if(answer){\r\n            pauseAudio(newAudio)\r\n        }else{\r\n            playAudio(newAudio)\r\n        }\r\n\r\n        return () => pauseAudio(newAudio)\r\n    },[answer])\r\n\r\n\r\n    return (\r\n        <div className=\"call_modal\">\r\n            <div className=\"call_box\" style={{\r\n                display: (answer && call.video) ? 'none' : 'flex'\r\n            }} >\r\n\r\n                <div className=\"text-center\" style={{padding: '40px 0'}} >\r\n                    <Avatar src={call.avatar} size=\"supper-avatar\" />\r\n                    <h4>{call.username}</h4>\r\n                    <h6>{call.fullname}</h6>\r\n\r\n                    {\r\n                        answer \r\n                        ? <div>\r\n                            <span>{ hours.toString().length < 2 ? '0' + hours : hours }</span>\r\n                            <span>:</span>\r\n                            <span>{ mins.toString().length < 2 ? '0' + mins : mins }</span>\r\n                            <span>:</span>\r\n                            <span>{ second.toString().length < 2 ? '0' + second : second }</span>\r\n                        </div>\r\n                        : <div>\r\n                            {\r\n                                call.video\r\n                                ? <span>calling video...</span>\r\n                                : <span>calling audio...</span>\r\n                            }\r\n                        </div>\r\n                    }\r\n                    \r\n                </div>\r\n                \r\n                {\r\n                    !answer && \r\n                    <div className=\"timer\">\r\n                        <small>{ mins.toString().length < 2 ? '0' + mins : mins }</small>\r\n                        <small>:</small>\r\n                        <small>{ second.toString().length < 2 ? '0' + second : second }</small>\r\n                    </div>\r\n                }\r\n                \r\n\r\n                <div className=\"call_menu\">\r\n                    <button className=\"material-icons text-danger\"\r\n                    onClick={handleEndCall}>\r\n                        call_end\r\n                    </button>\r\n                    \r\n                    {\r\n                        (call.recipient === auth.user._id && !answer) &&\r\n                        <>\r\n                            {\r\n                                call.video\r\n                                ? <button className=\"material-icons text-success\"\r\n                                onClick={handleAnswer}>\r\n                                    videocam\r\n                                </button>\r\n                                : <button className=\"material-icons text-success\"\r\n                                onClick={handleAnswer}>\r\n                                    call\r\n                                </button>\r\n                            }\r\n                        </>\r\n                    }\r\n                    \r\n                </div>\r\n                \r\n            </div>\r\n\r\n            <div className=\"show_video\" style={{\r\n                opacity: (answer && call.video) ? '1' : '0',\r\n                filter: theme ? 'invert(1)' : 'invert(0)'\r\n            }} >\r\n\r\n                <video ref={youVideo} className=\"you_video\" playsInline muted />\r\n                <video ref={otherVideo} className=\"other_video\" playsInline />\r\n\r\n                <div className=\"time_video\">\r\n                    <span>{ hours.toString().length < 2 ? '0' + hours : hours }</span>\r\n                    <span>:</span>\r\n                    <span>{ mins.toString().length < 2 ? '0' + mins : mins }</span>\r\n                    <span>:</span>\r\n                    <span>{ second.toString().length < 2 ? '0' + second : second }</span>\r\n                </div>\r\n\r\n                <button className=\"material-icons text-danger end_call\"\r\n                onClick={handleEndCall}>\r\n                    call_end\r\n                </button>\r\n\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CallModal\r\n","import { useEffect } from 'react'\r\nimport {BrowserRouter as Router, Route} from 'react-router-dom'\r\n\r\nimport PageRender from './customRouter/PageRender'\r\nimport PrivateRouter from './customRouter/PrivateRouter'\r\n\r\nimport Home from './pages/home'\r\nimport Login from './pages/login'\r\nimport Register from './pages/register'\r\n\r\nimport Alert from './components/alert/Alert'\r\nimport Header from './components/header/Header'\r\nimport StatusModal from './components/StatusModal'\r\n\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { refreshToken } from './redux/actions/authAction'\r\nimport { getPosts } from './redux/actions/postAction'\r\nimport { getSuggestions } from './redux/actions/suggestionsAction'\r\n\r\nimport io from 'socket.io-client'\r\nimport { GLOBALTYPES } from './redux/actions/globalTypes'\r\nimport SocketClient from './SocketClient'\r\n\r\nimport { getNotifies } from './redux/actions/notifyAction'\r\nimport CallModal from './components/message/CallModal'\r\nimport Peer from 'peerjs'\r\n\r\nfunction App() {\r\n  const { auth, status, modal, call } = useSelector(state => state)\r\n  const dispatch = useDispatch()\r\n\r\n  useEffect(() => {\r\n    dispatch(refreshToken())\r\n\r\n    const socket = io()\r\n    dispatch({type: GLOBALTYPES.SOCKET, payload: socket})\r\n    return () => socket.close()\r\n  },[dispatch])\r\n\r\n  useEffect(() => {\r\n    if(auth.token) {\r\n      dispatch(getPosts(auth.token))\r\n      dispatch(getSuggestions(auth.token))\r\n      dispatch(getNotifies(auth.token))\r\n    }\r\n  }, [dispatch, auth.token])\r\n\r\n  \r\n  useEffect(() => {\r\n    if (!(\"Notification\" in window)) {\r\n      alert(\"This browser does not support desktop notification\");\r\n    }\r\n    else if (Notification.permission === \"granted\") {}\r\n    else if (Notification.permission !== \"denied\") {\r\n      Notification.requestPermission().then(function (permission) {\r\n        if (permission === \"granted\") {}\r\n      });\r\n    }\r\n  },[])\r\n\r\n \r\n  useEffect(() => {\r\n    const newPeer = new Peer(undefined, {\r\n      path: '/', secure: true\r\n    })\r\n    \r\n    dispatch({ type: GLOBALTYPES.PEER, payload: newPeer })\r\n  },[dispatch])\r\n\r\n\r\n  return (\r\n    <Router>\r\n      <Alert />\r\n\r\n      <input type=\"checkbox\" id=\"theme\" />\r\n      <div className={`App ${(status || modal) && 'mode'}`}>\r\n        <div className=\"main\">\r\n          {auth.token && <Header />}\r\n          {status && <StatusModal />}\r\n          {auth.token && <SocketClient />}\r\n          {call && <CallModal />}\r\n          \r\n          <Route exact path=\"/\" component={auth.token ? Home : Login} />\r\n          <Route exact path=\"/register\" component={Register} />\r\n\r\n          <PrivateRouter exact path=\"/:page\" component={PageRender} />\r\n          <PrivateRouter exact path=\"/:page/:id\" component={PageRender} />\r\n          \r\n        </div>\r\n      </div>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import { GLOBALTYPES } from '../actions/globalTypes'\r\n\r\nconst initialState = {}\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type){\r\n        case GLOBALTYPES.AUTH:\r\n            return action.payload;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport default authReducer","import { GLOBALTYPES } from '../actions/globalTypes'\r\n\r\nconst initialState = {}\r\n\r\nconst alertReducer = (state = initialState, action) => {\r\n    switch (action.type){\r\n        case GLOBALTYPES.ALERT:\r\n            return action.payload;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport default alertReducer\r\n","import { GLOBALTYPES } from '../actions/globalTypes'\r\n\r\nconst initialState = false\r\n\r\nconst themeReducer = (state = initialState, action) => {\r\n    switch (action.type){\r\n        case GLOBALTYPES.THEME:\r\n            return action.payload;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport default themeReducer","import { PROFILE_TYPES } from '../actions/profileAction'\r\nimport { EditData } from '../actions/globalTypes'\r\n\r\nconst initialState = {\r\n    loading: false,\r\n    ids: [],\r\n    users: [],\r\n    posts: []\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n    switch (action.type){\r\n        case PROFILE_TYPES.LOADING:\r\n            return {\r\n                ...state,\r\n                loading: action.payload\r\n            };\r\n        case PROFILE_TYPES.GET_USER:\r\n            return {\r\n                ...state,\r\n                users: [...state.users, action.payload.user]\r\n            };\r\n        case PROFILE_TYPES.FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: EditData(state.users, action.payload._id, action.payload)\r\n            };\r\n        case PROFILE_TYPES.UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: EditData(state.users, action.payload._id, action.payload)\r\n            };\r\n        case PROFILE_TYPES.GET_ID:\r\n            return {\r\n                ...state,\r\n                ids: [...state.ids, action.payload]\r\n            };\r\n        case PROFILE_TYPES.GET_POSTS:\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, action.payload]\r\n            };\r\n        case PROFILE_TYPES.UPDATE_POST:\r\n            return {\r\n                ...state,\r\n                posts: EditData(state.posts, action.payload._id, action.payload)\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default profileReducer","import { GLOBALTYPES } from '../actions/globalTypes'\r\n\r\n\r\nconst statusReducer = (state = false, action) => {\r\n    switch (action.type){\r\n        case GLOBALTYPES.STATUS:\r\n            return action.payload;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport default statusReducer","import { POST_TYPES } from '../actions/postAction'\r\nimport { EditData, DeleteData } from '../actions/globalTypes'\r\n\r\nconst initialState = {\r\n    loading: false,\r\n    posts: [],\r\n    result: 0,\r\n    page: 2\r\n}\r\n\r\nconst postReducer = (state = initialState, action) => {\r\n    switch (action.type){\r\n        case POST_TYPES.CREATE_POST:\r\n            return {\r\n                ...state,\r\n                posts: [action.payload, ...state.posts]\r\n            };\r\n        case POST_TYPES.LOADING_POST:\r\n            return {\r\n                ...state,\r\n                loading: action.payload\r\n            };\r\n        case POST_TYPES.GET_POSTS:\r\n            return {\r\n                ...state,\r\n                posts: action.payload.posts,\r\n                result: action.payload.result,\r\n                page: action.payload.page\r\n            };\r\n        case POST_TYPES.UPDATE_POST:\r\n            return {\r\n                ...state,\r\n                posts: EditData(state.posts, action.payload._id, action.payload)\r\n            };\r\n        case POST_TYPES.DELETE_POST:\r\n            return {\r\n                ...state,\r\n                posts: DeleteData(state.posts, action.payload._id)\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default postReducer","import { GLOBALTYPES } from '../actions/globalTypes'\r\n\r\nconst initialState = false\r\n\r\nconst modalReducer = (state = initialState, action) => {\r\n    switch (action.type){\r\n        case GLOBALTYPES.MODAL:\r\n            return action.payload;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport default modalReducer","import { POST_TYPES } from '../actions/postAction'\r\nimport { EditData } from '../actions/globalTypes'\r\n\r\nconst detailPostReducer = (state = [], action) => {\r\n    switch (action.type){\r\n        case POST_TYPES.GET_POST:\r\n            return [...state, action.payload]\r\n        case POST_TYPES.UPDATE_POST:\r\n            return EditData(state, action.payload._id, action.payload)\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport default detailPostReducer","import { DISCOVER_TYPES } from '../actions/discoverAction'\r\n\r\nconst initialState = {\r\n    loading: false,\r\n    posts: [],\r\n    result: 9,\r\n    page: 2,\r\n    firstLoad: false\r\n}\r\n\r\nconst discoverReducer = (state = initialState, action) => {\r\n    switch (action.type){\r\n        case DISCOVER_TYPES.LOADING:\r\n            return {\r\n                ...state,\r\n                loading: action.payload\r\n            };\r\n        case DISCOVER_TYPES.GET_POSTS:\r\n            return {\r\n                ...state,\r\n                posts: action.payload.posts,\r\n                result: action.payload.result,\r\n                firstLoad: true\r\n            };\r\n        case DISCOVER_TYPES.UPDATE_POST:\r\n            return {\r\n                ...state,\r\n                posts: action.payload.posts,\r\n                result: action.payload.result,\r\n                page: state.page + 1\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default discoverReducer\r\n","import { SUGGES_TYPES } from '../actions/suggestionsAction'\r\n\r\nconst initialState = {\r\n    loading: false,\r\n    users: []\r\n}\r\n\r\n\r\nconst suggestionsReducer = (state = initialState, action) => {\r\n    switch (action.type){\r\n        case SUGGES_TYPES.LOADING:\r\n            return {\r\n                ...state,\r\n                loading: action.payload\r\n            };\r\n        case SUGGES_TYPES.GET_USERS:\r\n            return {\r\n                ...state,\r\n                users: action.payload.users\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default suggestionsReducer\r\n","import { GLOBALTYPES } from '../actions/globalTypes'\r\n\r\n\r\nconst socketReducer = (state = [], action) => {\r\n    switch (action.type){\r\n        case GLOBALTYPES.SOCKET:\r\n            return action.payload;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport default socketReducer","import { NOTIFY_TYPES } from '../actions/notifyAction'\r\nimport { EditData } from '../actions/globalTypes'\r\n\r\nconst initialState = {\r\n    loading: false,\r\n    data: [],\r\n    sound: false\r\n}\r\n\r\nconst notifyReducer = (state = initialState, action) => {\r\n    switch (action.type){\r\n        case NOTIFY_TYPES.GET_NOTIFIES:\r\n            return {\r\n                ...state,\r\n                data: action.payload\r\n            };\r\n        case NOTIFY_TYPES.CREATE_NOTIFY:\r\n            return {\r\n                ...state,\r\n                data: [action.payload, ...state.data]\r\n            };\r\n        case NOTIFY_TYPES.REMOVE_NOTIFY:\r\n            return {\r\n                ...state,\r\n                data: state.data.filter(item => (\r\n                    item.id !== action.payload.id || item.url !== action.payload.url\r\n                ))\r\n            };\r\n        case NOTIFY_TYPES.UPDATE_NOTIFY:\r\n            return {\r\n                ...state,\r\n                data: EditData(state.data, action.payload._id, action.payload)\r\n            };\r\n        case NOTIFY_TYPES.UPDATE_SOUND:\r\n            return {\r\n                ...state,\r\n                sound: action.payload\r\n            };\r\n        case NOTIFY_TYPES.DELETE_ALL_NOTIFIES:\r\n            return {\r\n                ...state,\r\n                data: action.payload\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport default notifyReducer","import { MESS_TYPES } from '../actions/messageAction'\r\nimport { EditData, DeleteData } from '../actions/globalTypes'\r\n\r\nconst initialState = {\r\n    users: [],\r\n    resultUsers: 0,\r\n    data: [],\r\n    firstLoad: false\r\n}\r\n\r\nconst messageReducer = (state = initialState, action) => {\r\n    switch (action.type){\r\n        case MESS_TYPES.ADD_USER:\r\n            if(state.users.every(item => item._id !== action.payload._id)){\r\n                return {\r\n                    ...state,\r\n                    users: [action.payload, ...state.users]\r\n                };\r\n            }\r\n            return state;\r\n        case MESS_TYPES.ADD_MESSAGE:\r\n            return {\r\n                ...state,\r\n                data: state.data.map(item => \r\n                    item._id === action.payload.recipient || item._id === action.payload.sender \r\n                    ? {\r\n                        ...item,\r\n                        messages: [...item.messages, action.payload],\r\n                        result: item.result + 1\r\n                    }\r\n                    : item\r\n                ),\r\n                users: state.users.map(user => \r\n                    user._id === action.payload.recipient || user._id === action.payload.sender\r\n                    ? {\r\n                        ...user, \r\n                        text: action.payload.text, \r\n                        media: action.payload.media,\r\n                        call: action.payload.call\r\n                    }\r\n                    : user\r\n                )\r\n            };\r\n        case MESS_TYPES.GET_CONVERSATIONS:\r\n            return {\r\n                ...state,\r\n                users: action.payload.newArr,\r\n                resultUsers: action.payload.result,\r\n                firstLoad: true\r\n            };\r\n        case MESS_TYPES.GET_MESSAGES:\r\n            return {\r\n                ...state,\r\n                data: [...state.data, action.payload]\r\n            };\r\n        case MESS_TYPES.UPDATE_MESSAGES:\r\n            return {\r\n                ...state,\r\n                data: EditData(state.data, action.payload._id, action.payload)\r\n            };\r\n        case MESS_TYPES.DELETE_MESSAGES:\r\n            return {\r\n                ...state,\r\n                data: state.data.map(item => \r\n                    item._id === action.payload._id\r\n                    ? {...item, messages: action.payload.newData}\r\n                    : item\r\n                )\r\n            };\r\n        case MESS_TYPES.DELETE_CONVERSATION:\r\n            return {\r\n                ...state,\r\n                users: DeleteData(state.users, action.payload),\r\n                data: DeleteData(state.data, action.payload)\r\n            };\r\n        case MESS_TYPES.CHECK_ONLINE_OFFLINE:\r\n            return {\r\n                ...state,\r\n                users: state.users.map(user => \r\n                    action.payload.includes(user._id)\r\n                    ? {...user, online: true}\r\n                    : {...user, online: false}\r\n                )\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default messageReducer;","import { GLOBALTYPES } from '../actions/globalTypes'\r\n\r\n\r\nconst onlineReducer = (state = [], action) => {\r\n    switch (action.type){\r\n        case GLOBALTYPES.ONLINE:\r\n            return [...state, action.payload];\r\n        case GLOBALTYPES.OFFLINE:\r\n            return state.filter(item => item !== action.payload)\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport default onlineReducer","import { GLOBALTYPES } from '../actions/globalTypes'\r\n\r\n\r\nconst callReducer = (state = null, action) => {\r\n    switch (action.type){\r\n        case GLOBALTYPES.CALL:\r\n            return action.payload;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport default callReducer","import { GLOBALTYPES } from '../actions/globalTypes'\r\n\r\n\r\nconst peerReducer = (state = null, action) => {\r\n    switch (action.type){\r\n        case GLOBALTYPES.PEER:\r\n            return action.payload;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport default peerReducer","import { combineReducers } from 'redux'\r\nimport auth from './authReducer'\r\nimport alert from './alertReducer'\r\nimport theme from './themeReducer'\r\nimport profile from './profileReducer'\r\nimport status from './statusReducer'\r\nimport homePosts from './postReducer'\r\nimport modal from './modalReducer'\r\nimport detailPost from './detailPostReducer'\r\nimport discover from './discoverReducer'\r\nimport suggestions from './suggestionsReducer'\r\nimport socket from './socketReducer'\r\nimport notify from './notifyReducer'\r\nimport message from './messageReducer'\r\nimport online from './onlineReducer'\r\nimport call from './callReducer'\r\nimport peer from './peerReducer'\r\n\r\n\r\nexport default combineReducers({\r\n    auth,\r\n    alert,\r\n    theme,\r\n    profile,\r\n    status,\r\n    homePosts,\r\n    modal,\r\n    detailPost,\r\n    discover,\r\n    suggestions,\r\n    socket,\r\n    notify,\r\n    message,\r\n    online,\r\n    call,\r\n    peer\r\n})","import { createStore, applyMiddleware } from 'redux'\r\nimport { Provider } from 'react-redux'\r\nimport thunk from 'redux-thunk'\r\n\r\nimport rootReducer from './reducers/index'\r\n\r\nimport { composeWithDevTools } from 'redux-devtools-extension'\r\n\r\nconst store = createStore(\r\n    rootReducer,\r\n    composeWithDevTools(applyMiddleware(thunk))\r\n)\r\n\r\nconst DataProvider = ({children}) => {\r\n    return(\r\n        <Provider store={store}>\r\n            {children}\r\n        </Provider>\r\n    )\r\n}\r\n\r\nexport default DataProvider","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './styles/global.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport DataProvider from './redux/store'\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <DataProvider>\r\n      <App />\r\n    </DataProvider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n","import { GLOBALTYPES, DeleteData } from './globalTypes'\r\nimport { getDataAPI, patchDataAPI } from '../../utils/fetchData'\r\nimport { imageUpload } from '../../utils/imageUpload'\r\nimport { createNotify, removeNotify } from '../actions/notifyAction'\r\n\r\n\r\nexport const PROFILE_TYPES = {\r\n    LOADING: 'LOADING_PROFILE',\r\n    GET_USER: 'GET_PROFILE_USER',\r\n    FOLLOW: 'FOLLOW',\r\n    UNFOLLOW: 'UNFOLLOW',\r\n    GET_ID: 'GET_PROFILE_ID',\r\n    GET_POSTS: 'GET_PROFILE_POSTS',\r\n    UPDATE_POST: 'UPDATE_PROFILE_POST'\r\n}\r\n\r\n\r\nexport const getProfileUsers = ({id, auth}) => async (dispatch) => {\r\n    dispatch({type: PROFILE_TYPES.GET_ID, payload: id})\r\n\r\n    try {\r\n        dispatch({type: PROFILE_TYPES.LOADING, payload: true})\r\n        const res = getDataAPI(`/user/${id}`, auth.token)\r\n        const res1 = getDataAPI(`/user_posts/${id}`, auth.token)\r\n        \r\n        const users = await res;\r\n        const posts = await res1;\r\n\r\n        dispatch({\r\n            type: PROFILE_TYPES.GET_USER,\r\n            payload: users.data\r\n        })\r\n\r\n        dispatch({\r\n            type: PROFILE_TYPES.GET_POSTS,\r\n            payload: {...posts.data, _id: id, page: 2}\r\n        })\r\n\r\n        dispatch({type: PROFILE_TYPES.LOADING, payload: false})\r\n    } catch (err) {\r\n        dispatch({\r\n            type: GLOBALTYPES.ALERT, \r\n            payload: {error: err.response.data.msg}\r\n        })\r\n    }\r\n    \r\n}\r\n\r\n\r\nexport const updateProfileUser = ({userData, avatar, auth}) => async (dispatch) => {\r\n    if(!userData.fullname)\r\n    return dispatch({type: GLOBALTYPES.ALERT, payload: {error: \"Please add your full name.\"}})\r\n\r\n    if(userData.fullname.length > 25)\r\n    return dispatch({type: GLOBALTYPES.ALERT, payload: {error: \"Your full name too long.\"}})\r\n\r\n    if(userData.story.length > 200)\r\n    return dispatch({type: GLOBALTYPES.ALERT, payload: {error: \"Your story too long.\"}})\r\n\r\n    try {\r\n        let media;\r\n        dispatch({type: GLOBALTYPES.ALERT, payload: {loading: true}})\r\n\r\n        if(avatar) media = await imageUpload([avatar])\r\n\r\n        const res = await patchDataAPI(\"user\", {\r\n            ...userData,\r\n            avatar: avatar ? media[0].url : auth.user.avatar\r\n        }, auth.token)\r\n\r\n        dispatch({\r\n            type: GLOBALTYPES.AUTH,\r\n            payload: {\r\n                ...auth,\r\n                user: {\r\n                    ...auth.user, ...userData,\r\n                    avatar: avatar ? media[0].url : auth.user.avatar,\r\n                }\r\n            }\r\n        })\r\n\r\n        dispatch({type: GLOBALTYPES.ALERT, payload: {success: res.data.msg}})\r\n    } catch (err) {\r\n        dispatch({\r\n            type: GLOBALTYPES.ALERT, \r\n            payload: {error: err.response.data.msg}\r\n        })\r\n    }\r\n}\r\n\r\nexport const follow = ({users, user, auth, socket}) => async (dispatch) => {\r\n    let newUser;\r\n    \r\n    if(users.every(item => item._id !== user._id)){\r\n        newUser = {...user, followers: [...user.followers, auth.user]}\r\n    }else{\r\n        users.forEach(item => {\r\n            if(item._id === user._id){\r\n                newUser = {...item, followers: [...item.followers, auth.user]}\r\n            }\r\n        })\r\n    }\r\n\r\n    dispatch({ type: PROFILE_TYPES.FOLLOW, payload: newUser })\r\n\r\n    dispatch({\r\n        type: GLOBALTYPES.AUTH, \r\n        payload: {\r\n            ...auth,\r\n            user: {...auth.user, following: [...auth.user.following, newUser]}\r\n        }\r\n    })\r\n\r\n\r\n    try {\r\n        const res = await patchDataAPI(`user/${user._id}/follow`, null, auth.token)\r\n        socket.emit('follow', res.data.newUser)\r\n\r\n        // Notify\r\n        const msg = {\r\n            id: auth.user._id,\r\n            text: 'has started to follow you.',\r\n            recipients: [newUser._id],\r\n            url: `/profile/${auth.user._id}`,\r\n        }\r\n\r\n        dispatch(createNotify({msg, auth, socket}))\r\n\r\n    } catch (err) {\r\n        dispatch({\r\n            type: GLOBALTYPES.ALERT, \r\n            payload: {error: err.response.data.msg}\r\n        })\r\n    }\r\n}\r\n\r\nexport const unfollow = ({users, user, auth, socket}) => async (dispatch) => {\r\n\r\n    let newUser;\r\n\r\n    if(users.every(item => item._id !== user._id)){\r\n        newUser = {...user, followers: DeleteData(user.followers, auth.user._id)}\r\n    }else{\r\n        users.forEach(item => {\r\n            if(item._id === user._id){\r\n                newUser = {...item, followers: DeleteData(item.followers, auth.user._id)}\r\n            }\r\n        })\r\n    }\r\n\r\n    dispatch({ type: PROFILE_TYPES.UNFOLLOW, payload: newUser })\r\n\r\n    dispatch({\r\n        type: GLOBALTYPES.AUTH, \r\n        payload: {\r\n            ...auth,\r\n            user: { \r\n                ...auth.user, \r\n                following: DeleteData(auth.user.following, newUser._id) \r\n            }\r\n        }\r\n    })\r\n   \r\n\r\n    try {\r\n        const res = await patchDataAPI(`user/${user._id}/unfollow`, null, auth.token)\r\n        socket.emit('unFollow', res.data.newUser)\r\n\r\n        // Notify\r\n        const msg = {\r\n            id: auth.user._id,\r\n            text: 'has started to follow you.',\r\n            recipients: [newUser._id],\r\n            url: `/profile/${auth.user._id}`,\r\n        }\r\n\r\n        dispatch(removeNotify({msg, auth, socket}))\r\n\r\n    } catch (err) {\r\n        dispatch({\r\n            type: GLOBALTYPES.ALERT, \r\n            payload: {error: err.response.data.msg}\r\n        })\r\n    }\r\n}","import React from 'react'\r\nimport Avatar from './Avatar'\r\nimport { Link } from 'react-router-dom'\r\nimport { useSelector } from 'react-redux'\r\n\r\nconst UserCard = ({children, user, border, handleClose, setShowFollowers, setShowFollowing, msg}) => {\r\n\r\n    const { theme } = useSelector(state => state)\r\n\r\n    const handleCloseAll = () => {\r\n        if(handleClose) handleClose()\r\n        if(setShowFollowers) setShowFollowers(false)\r\n        if(setShowFollowing) setShowFollowing(false)\r\n    }\r\n\r\n    const showMsg = (user) => {\r\n        return(\r\n            <>\r\n                <div style={{filter: theme ? 'invert(1)' : 'invert(0)'}}>\r\n                    {user.text}\r\n                </div>\r\n                {\r\n                    user.media.length > 0 && \r\n                    <div>\r\n                        {user.media.length} <i className=\"fas fa-image\" />\r\n                    </div>\r\n                }\r\n\r\n                {\r\n                    user.call &&\r\n                    <span className=\"material-icons\">\r\n                        {\r\n                            user.call.times === 0\r\n                            ? user.call.video ? 'videocam_off' : 'phone_disabled'\r\n                            : user.call.video ? 'video_camera_front' : 'call'\r\n                        }\r\n                    </span>\r\n                }\r\n            </>\r\n        )\r\n    }\r\n\r\n\r\n    return (\r\n        <div className={`d-flex p-2 align-items-center justify-content-between w-100 ${border}`}>\r\n            <div>\r\n                <Link to={`/profile/${user._id}`} onClick={handleCloseAll}\r\n                className=\"d-flex align-items-center\">\r\n                    \r\n                    <Avatar src={user.avatar} size=\"big-avatar\" />\r\n\r\n                    <div className=\"ml-1\" style={{transform: 'translateY(-2px)'}}>\r\n                        <span className=\"d-block\">{user.username}</span>\r\n                        \r\n                        <small style={{opacity: 0.7}}>\r\n                            {\r\n                                msg \r\n                                ? showMsg(user)\r\n                                : user.fullname\r\n                            }\r\n                        </small>\r\n                    </div>\r\n                </Link>\r\n            </div>\r\n            \r\n            {children}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default UserCard\r\n","export const imageShow = (src, theme) => {\r\n    return(\r\n        <img src={src} alt=\"images\" className=\"img-thumbnail\"\r\n        style={{filter: theme ? 'invert(1)' : 'invert(0)'}} />\r\n    )\r\n}\r\n\r\nexport const videoShow = (src, theme) => {\r\n    return(\r\n        <video controls src={src} alt=\"images\" className=\"img-thumbnail\"\r\n        style={{filter: theme ? 'invert(1)' : 'invert(0)'}} />\r\n    )\r\n}","export const GLOBALTYPES = {\r\n    AUTH: \"AUTH\",\r\n    ALERT: \"ALERT\",\r\n    THEME: 'THEME',\r\n    STATUS: 'STATUS',\r\n    MODAL: 'MODAL',\r\n    SOCKET: 'SOCKET',\r\n    ONLINE: 'ONLINE',\r\n    OFFLINE: 'OFFLINE',\r\n    CALL: 'CALL',\r\n    PEER: 'PEER'\r\n}\r\n\r\nexport const EditData = (data, id, post) => {\r\n    const newData = data.map(item => \r\n        (item._id === id ? post : item)\r\n    )\r\n    return newData;\r\n}\r\n\r\nexport const DeleteData = (data, id) => {\r\n    const newData = data.filter(item => item._id !== id)\r\n    return newData;\r\n}","export const checkImage = (file) => {\r\n    let err = \"\"\r\n    if(!file) return err = \"File does not exist.\"\r\n\r\n    if(file.size > 1024 * 1024) // 1mb\r\n    err = \"The largest image size is 1mb.\"\r\n\r\n    if(file.type !== 'image/jpeg' && file.type !== 'image/png' )\r\n    err = \"Image format is incorrect.\"\r\n    \r\n    return err;\r\n}\r\n\r\n\r\nexport const imageUpload = async (images) => {\r\n    let imgArr = [];\r\n    for(const item of images){\r\n        const formData = new FormData()\r\n\r\n        if(item.camera){\r\n            formData.append(\"file\", item.camera)\r\n        }else{\r\n            formData.append(\"file\", item)\r\n        }\r\n        \r\n        formData.append(\"upload_preset\", \"efxjficn\")\r\n        formData.append(\"cloud_name\", \"devat-channel\")\r\n\r\n        const res = await fetch(\"https://api.cloudinary.com/v1_1/devat-channel/upload\", {\r\n            method: \"POST\",\r\n            body: formData\r\n        })\r\n        \r\n        const data = await res.json()\r\n        imgArr.push({public_id: data.public_id, url: data.secure_url})\r\n    }\r\n    return imgArr;\r\n}","import React from 'react'\r\n\r\nconst LoadMoreBtn = ({result, page, load, handleLoadMore}) => {\r\n    return (\r\n        <>\r\n            {\r\n                result < 9 * (page - 1) ? '' : \r\n\r\n                !load && <button className=\"btn btn-dark mx-auto d-block\"\r\n                onClick={handleLoadMore}>\r\n                    Load more\r\n                </button>\r\n            }\r\n            \r\n        </>\r\n    )\r\n}\r\n\r\nexport default LoadMoreBtn\r\n","import React, { useState, useEffect } from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { follow, unfollow } from '../redux/actions/profileAction'\r\n\r\nconst FollowBtn = ({user}) => {\r\n    const [followed, setFollowed] = useState(false)\r\n\r\n    const { auth, profile, socket } = useSelector(state => state)\r\n    const dispatch = useDispatch()\r\n\r\n    const [load, setLoad] = useState(false)\r\n\r\n    useEffect(() => {\r\n        if(auth.user.following.find(item => item._id === user._id)){\r\n            setFollowed(true)\r\n        }\r\n        return () => setFollowed(false)\r\n    }, [auth.user.following, user._id])\r\n\r\n    const handleFollow =  async () => {\r\n        if(load) return;\r\n\r\n        setFollowed(true)\r\n        setLoad(true)\r\n        await dispatch(follow({users: profile.users, user, auth, socket}))\r\n        setLoad(false)\r\n    }\r\n\r\n    const handleUnFollow = async () => {\r\n        if(load) return;\r\n\r\n        setFollowed(false)\r\n        setLoad(true)\r\n        await dispatch(unfollow({users: profile.users, user, auth, socket}))\r\n        setLoad(false)\r\n    }\r\n\r\n    return (\r\n        <>\r\n        {\r\n            followed\r\n            ? <button className=\"btn btn-outline-danger\"\r\n            onClick={handleUnFollow}>\r\n                UnFollow\r\n            </button>\r\n            : <button className=\"btn btn-outline-info\"\r\n            onClick={handleFollow}>\r\n                Follow\r\n            </button>\r\n        }\r\n        </>\r\n    )\r\n}\r\n\r\nexport default FollowBtn\r\n","const valid = ({fullname, username, email, password, cf_password}) => {\r\n    const err = {}\r\n\r\n    if(!fullname) {\r\n        err.fullname = \"Please add your full name.\"\r\n    }else if(fullname.length > 25){\r\n        err.fullname = \"Full name is up to 25 characters long.\"\r\n    }\r\n\r\n    if(!username) {\r\n        err.username = \"Please add your user name.\"\r\n    }else if(username.replace(/ /g, '').length > 25){\r\n        err.username = \"User name is up to 25 characters long.\"\r\n    }\r\n\r\n    if(!email) {\r\n        err.email = \"Please add your email.\"\r\n    }else if(!validateEmail(email)){\r\n        err.email = \"Email format is incorrect.\"\r\n    }\r\n\r\n    if(!password) {\r\n        err.password = \"Please add your password.\"\r\n    }else if(password.length < 6){\r\n        err.password = \"Password must be at least 6 characters.\"\r\n    }\r\n\r\n    if(password !== cf_password) {\r\n        err.cf_password = \"Confirm password did not match.\"\r\n    }\r\n\r\n    return {\r\n        errMsg: err,\r\n        errLength: Object.keys(err).length\r\n    }\r\n}\r\n\r\n\r\n\r\nfunction validateEmail(email) {\r\n    // eslint-disable-next-line\r\n    const re = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n    return re.test(email);\r\n}\r\n  \r\nexport default valid","import { GLOBALTYPES } from './globalTypes'\r\nimport { postDataAPI } from '../../utils/fetchData'\r\nimport valid from '../../utils/valid'\r\n\r\n\r\nexport const login = (data) => async (dispatch) => {\r\n    try {\r\n        dispatch({ type: GLOBALTYPES.ALERT, payload: {loading: true} })\r\n        const res = await postDataAPI('login', data)\r\n        dispatch({ \r\n            type: GLOBALTYPES.AUTH, \r\n            payload: {\r\n                token: res.data.access_token,\r\n                user: res.data.user\r\n            } \r\n        })\r\n\r\n        localStorage.setItem(\"firstLogin\", true)\r\n        dispatch({ \r\n            type: GLOBALTYPES.ALERT, \r\n            payload: {\r\n                success: res.data.msg\r\n            } \r\n        })\r\n        \r\n    } catch (err) {\r\n        dispatch({ \r\n            type: GLOBALTYPES.ALERT, \r\n            payload: {\r\n                error: err.response.data.msg\r\n            } \r\n        })\r\n    }\r\n}\r\n\r\n\r\nexport const refreshToken = () => async (dispatch) => {\r\n    const firstLogin = localStorage.getItem(\"firstLogin\")\r\n    if(firstLogin){\r\n        dispatch({ type: GLOBALTYPES.ALERT, payload: {loading: true} })\r\n\r\n        try {\r\n            const res = await postDataAPI('refresh_token')\r\n            dispatch({ \r\n                type: GLOBALTYPES.AUTH, \r\n                payload: {\r\n                    token: res.data.access_token,\r\n                    user: res.data.user\r\n                } \r\n            })\r\n\r\n            dispatch({ type: GLOBALTYPES.ALERT, payload: {} })\r\n\r\n        } catch (err) {\r\n            dispatch({ \r\n                type: GLOBALTYPES.ALERT, \r\n                payload: {\r\n                    error: err.response.data.msg\r\n                } \r\n            })\r\n        }\r\n    }\r\n}\r\n\r\nexport const register = (data) => async (dispatch) => {\r\n    const check = valid(data)\r\n    if(check.errLength > 0)\r\n    return dispatch({type: GLOBALTYPES.ALERT, payload: check.errMsg})\r\n\r\n    try {\r\n        dispatch({type: GLOBALTYPES.ALERT, payload: {loading: true}})\r\n\r\n        const res = await postDataAPI('register', data)\r\n        dispatch({ \r\n            type: GLOBALTYPES.AUTH, \r\n            payload: {\r\n                token: res.data.access_token,\r\n                user: res.data.user\r\n            } \r\n        })\r\n\r\n        localStorage.setItem(\"firstLogin\", true)\r\n        dispatch({ \r\n            type: GLOBALTYPES.ALERT, \r\n            payload: {\r\n                success: res.data.msg\r\n            } \r\n        })\r\n    } catch (err) {\r\n        dispatch({ \r\n            type: GLOBALTYPES.ALERT, \r\n            payload: {\r\n                error: err.response.data.msg\r\n            } \r\n        })\r\n    }\r\n}\r\n\r\n\r\nexport const logout = () => async (dispatch) => {\r\n    try {\r\n        localStorage.removeItem('firstLogin')\r\n        await postDataAPI('logout')\r\n        window.location.href = \"/\"\r\n    } catch (err) {\r\n        dispatch({ \r\n            type: GLOBALTYPES.ALERT, \r\n            payload: {\r\n                error: err.response.data.msg\r\n            } \r\n        })\r\n    }\r\n}","import { GLOBALTYPES } from '../actions/globalTypes'\r\nimport { getDataAPI } from '../../utils/fetchData'\r\n\r\nexport const SUGGES_TYPES = {\r\n    LOADING: 'LOADING_SUGGES',\r\n    GET_USERS: 'GET_USERS_SUGGES',\r\n}\r\n\r\nexport const getSuggestions = (token) => async (dispatch) => {\r\n    try {\r\n        dispatch({ type: SUGGES_TYPES.LOADING, payload: true })\r\n        \r\n        const res = await getDataAPI('suggestionsUser', token)\r\n        dispatch({ type: SUGGES_TYPES.GET_USERS, payload: res.data })\r\n\r\n        dispatch({ type: SUGGES_TYPES.LOADING, payload: false })\r\n        \r\n    } catch (err) {\r\n        dispatch({type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg}})\r\n    }\r\n}","import { GLOBALTYPES } from './globalTypes'\r\nimport { getDataAPI } from '../../utils/fetchData'\r\n\r\nexport const DISCOVER_TYPES = {\r\n    LOADING: 'LOADING_DISCOVER',\r\n    GET_POSTS: 'GET_DISCOVER_POSTS',\r\n    UPDATE_POST: 'UPDATE_DISCOVER_POST'\r\n}\r\n\r\nexport const getDiscoverPosts = (token) => async (dispatch) => {\r\n    try {\r\n        dispatch({type: DISCOVER_TYPES.LOADING, payload: true})\r\n\r\n        const res = await getDataAPI(`post_discover`, token)\r\n        dispatch({type: DISCOVER_TYPES.GET_POSTS, payload: res.data})\r\n\r\n        dispatch({type: DISCOVER_TYPES.LOADING, payload: false})\r\n\r\n    } catch (err) {\r\n        dispatch({type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg}})\r\n    }\r\n}","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { useSelector } from 'react-redux'\r\n\r\nconst PostThumb = ({posts, result}) => {\r\n    const { theme } = useSelector(state => state)\r\n\r\n    if(result === 0) return <h2 className=\"text-center text-danger\">No Post</h2>\r\n\r\n    return (\r\n        <div className=\"post_thumb\">\r\n            {\r\n                posts.map(post => (\r\n                    <Link key={post._id} to={`/post/${post._id}`}>\r\n                        <div className=\"post_thumb_display\">\r\n\r\n                            {\r\n                                post.images[0].url.match(/video/i)\r\n                                ?<video controls src={post.images[0].url} alt={post.images[0].url}\r\n                                style={{filter: theme ? 'invert(1)' : 'invert(0)'}} />\r\n\r\n                                :<img src={post.images[0].url} alt={post.images[0].url}\r\n                                style={{filter: theme ? 'invert(1)' : 'invert(0)'}} />\r\n                            }\r\n\r\n                            <div className=\"post_thumb_menu\">\r\n                                <i className=\"far fa-heart\">{post.likes.length}</i>\r\n                                <i className=\"far fa-comment\">{post.comments.length}</i>\r\n                            </div>\r\n                        </div>\r\n                    </Link>\r\n                ))\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PostThumb\r\n","import React from 'react'\r\n\r\nconst Icons = ({setContent, content, theme}) => {\r\n    const reactions = [   \r\n        '', '', '', '', '', '', '', '',\r\n        '', '', '', '', '', '', '', '',\r\n        '', '', '', '', '', '', '', ''\r\n    ]\r\n\r\n    return (\r\n        <div className=\"nav-item dropdown\" \r\n        style={{ opacity: 1, filter: theme ? 'invert(1)' : 'invert(0)' }}>\r\n            \r\n            <span className=\"nav-link position-relative px-1\" id=\"navbarDropdown\" \r\n            role=\"button\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\r\n                <span style={{opacity: 0.4}}></span>\r\n            </span>\r\n\r\n            <div className=\"dropdown-menu\" aria-labelledby=\"navbarDropdown\">\r\n                <div className=\"reactions\">\r\n                    {\r\n                        reactions.map(icon => (\r\n                            <span key={icon} onClick={() => setContent(content + icon)}>\r\n                                {icon}\r\n                            </span>\r\n                        ))\r\n                    }\r\n                </div>\r\n            </div>\r\n                \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Icons\r\n","import React from 'react'\r\nimport LeftSide from '../../components/message/LeftSide'\r\n\r\nconst Message = () => {\r\n    return (\r\n        <div className=\"message d-flex\">\r\n            <div className=\"col-md-4 border-right px-0\">\r\n                <LeftSide />\r\n            </div>\r\n\r\n            <div className=\"col-md-8 px-0 right_mess\">\r\n                <div className=\"d-flex justify-content-center \r\n                align-items-center flex-column h-100\">\r\n\r\n                    <i className=\"fab fa-facebook-messenger text-primary\"\r\n                    style={{fontSize: '5rem'}} />\r\n                    <h4>Messenger</h4>\r\n\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Message\r\n","import React, { useState, useEffect } from 'react'\r\nimport { Link, useHistory } from 'react-router-dom'\r\nimport { login } from '../redux/actions/authAction'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\n\r\n\r\nconst Login = () => {\r\n    const initialState = { email: '', password: '' }\r\n    const [userData, setUserData] = useState(initialState)\r\n    const { email, password } = userData\r\n\r\n    const [typePass, setTypePass] = useState(false)\r\n\r\n    const { auth } = useSelector(state => state)\r\n    const dispatch = useDispatch()\r\n    const history = useHistory()\r\n\r\n    useEffect(() => {\r\n        if(auth.token) history.push(\"/\")\r\n    }, [auth.token, history])\r\n\r\n    const handleChangeInput = e => {\r\n        const { name, value } = e.target\r\n        setUserData({...userData, [name]:value})\r\n    }\r\n\r\n    const handleSubmit = e => {\r\n        e.preventDefault()\r\n        dispatch(login(userData))\r\n    }\r\n\r\n    return (\r\n        <div className=\"auth_page\">\r\n            <form onSubmit={handleSubmit}>\r\n                <h3 className=\"text-uppercase text-center mb-4\">Connect_U</h3>\r\n\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"exampleInputEmail1\">Email address</label>\r\n                    <input type=\"email\" className=\"form-control\" id=\"exampleInputEmail1\" name=\"email\"\r\n                    aria-describedby=\"emailHelp\" onChange={handleChangeInput} value={email} />\r\n                    \r\n                    <small id=\"emailHelp\" className=\"form-text text-muted\">\r\n                        We'll never share your email with anyone else.\r\n                    </small>\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"exampleInputPassword1\">Password</label>\r\n\r\n                    <div className=\"pass\">\r\n                        \r\n                        <input type={ typePass ? \"text\" : \"password\" } \r\n                        className=\"form-control\" id=\"exampleInputPassword1\"\r\n                        onChange={handleChangeInput} value={password} name=\"password\" />\r\n\r\n                        <small onClick={() => setTypePass(!typePass)}>\r\n                            {typePass ? 'Hide' : 'Show'}\r\n                        </small>\r\n                    </div>\r\n                   \r\n                </div>\r\n                \r\n                <button type=\"submit\" className=\"btn btn-dark w-100\"\r\n                disabled={email && password ? false : true}>\r\n                    Login\r\n                </button>\r\n\r\n                <p className=\"my-2\">\r\n                    You don't have an account? <Link to=\"/register\" style={{color: \"crimson\"}}>Register Now</Link>\r\n                </p>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login\r\n","import React, { useState, useEffect } from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { useHistory, Link } from 'react-router-dom'\r\nimport { register } from '../redux/actions/authAction'\r\n\r\nconst Register = () => {\r\n    const { auth, alert } = useSelector(state => state)\r\n    const dispatch = useDispatch()\r\n    const history = useHistory()\r\n\r\n    const initialState = { \r\n        fullname: '', username: '', email: '', password: '', cf_password: '', gender: 'male'\r\n    }\r\n    const [userData, setUserData] = useState(initialState)\r\n    const { fullname, username, email, password, cf_password } = userData\r\n\r\n    const [typePass, setTypePass] = useState(false)\r\n    const [typeCfPass, setTypeCfPass] = useState(false)\r\n\r\n    useEffect(() => {\r\n        if(auth.token) history.push(\"/\")\r\n    }, [auth.token, history])\r\n\r\n    \r\n    const handleChangeInput = e => {\r\n        const { name, value } = e.target\r\n        setUserData({...userData, [name]:value})\r\n    }\r\n\r\n    const handleSubmit = e => {\r\n        e.preventDefault()\r\n        dispatch(register(userData))\r\n    }\r\n\r\n    return (\r\n        <div className=\"auth_page\">\r\n            <form onSubmit={handleSubmit}>\r\n                <h3 className=\"text-uppercase text-center mb-4\">Connect_U</h3>\r\n\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"fullname\">Full Name</label>\r\n                    <input type=\"text\" className=\"form-control\" id=\"fullname\" name=\"fullname\"\r\n                    onChange={handleChangeInput} value={fullname}\r\n                    style={{background: `${alert.fullname ? '#fd2d6a14' : ''}`}} />\r\n                    \r\n                    <small className=\"form-text text-danger\">\r\n                        {alert.fullname ? alert.fullname : ''}\r\n                    </small>\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"username\">User Name</label>\r\n                    <input type=\"text\" className=\"form-control\" id=\"username\" name=\"username\"\r\n                    onChange={handleChangeInput} value={username.toLowerCase().replace(/ /g, '')}\r\n                    style={{background: `${alert.username ? '#fd2d6a14' : ''}`}} />\r\n                    \r\n                    <small className=\"form-text text-danger\">\r\n                        {alert.username ? alert.username : ''}\r\n                    </small>\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"exampleInputEmail1\">Email address</label>\r\n                    <input type=\"email\" className=\"form-control\" id=\"exampleInputEmail1\" name=\"email\"\r\n                    onChange={handleChangeInput} value={email}\r\n                    style={{background: `${alert.email ? '#fd2d6a14' : ''}`}} />\r\n                    \r\n                    <small className=\"form-text text-danger\">\r\n                        {alert.email ? alert.email : ''}\r\n                    </small>\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"exampleInputPassword1\">Password</label>\r\n\r\n                    <div className=\"pass\">\r\n                        \r\n                        <input type={ typePass ? \"text\" : \"password\" } \r\n                        className=\"form-control\" id=\"exampleInputPassword1\"\r\n                        onChange={handleChangeInput} value={password} name=\"password\"\r\n                        style={{background: `${alert.password ? '#fd2d6a14' : ''}`}} />\r\n\r\n                        <small onClick={() => setTypePass(!typePass)}>\r\n                            {typePass ? 'Hide' : 'Show'}\r\n                        </small>\r\n                    </div>\r\n\r\n                    <small className=\"form-text text-danger\">\r\n                        {alert.password ? alert.password : ''}\r\n                    </small>\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"cf_password\">Confirm Password</label>\r\n\r\n                    <div className=\"pass\">\r\n                        \r\n                        <input type={ typeCfPass ? \"text\" : \"password\" } \r\n                        className=\"form-control\" id=\"cf_password\"\r\n                        onChange={handleChangeInput} value={cf_password} name=\"cf_password\"\r\n                        style={{background: `${alert.cf_password ? '#fd2d6a14' : ''}`}} />\r\n\r\n                        <small onClick={() => setTypeCfPass(!typeCfPass)}>\r\n                            {typeCfPass ? 'Hide' : 'Show'}\r\n                        </small>\r\n                    </div>\r\n\r\n                    <small className=\"form-text text-danger\">\r\n                        {alert.cf_password ? alert.cf_password : ''}\r\n                    </small>\r\n                </div>\r\n\r\n                <div className=\"row justify-content-between mx-0 mb-1\">\r\n                    <label htmlFor=\"male\">\r\n                        Male: <input type=\"radio\" id=\"male\" name=\"gender\"\r\n                        value=\"male\" defaultChecked onChange={handleChangeInput} />\r\n                    </label>\r\n\r\n                    <label htmlFor=\"female\">\r\n                        Female: <input type=\"radio\" id=\"female\" name=\"gender\"\r\n                        value=\"female\" onChange={handleChangeInput} />\r\n                    </label>\r\n\r\n                    <label htmlFor=\"other\">\r\n                        Other: <input type=\"radio\" id=\"other\" name=\"gender\"\r\n                        value=\"other\" onChange={handleChangeInput} />\r\n                    </label>\r\n                </div>\r\n                \r\n                <button type=\"submit\" className=\"btn btn-dark w-100\">\r\n                    Register\r\n                </button>\r\n\r\n                <p className=\"my-2\">\r\n                    Already have an account? <Link to=\"/\" style={{color: \"crimson\"}}>Login Now</Link>\r\n                </p>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Register\r\n","import React from 'react'\r\nimport Avatar from '../Avatar'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { GLOBALTYPES } from '../../redux/actions/globalTypes'\r\n\r\nconst Status = () => {\r\n    const { auth } = useSelector(state => state)\r\n    const dispatch = useDispatch()\r\n\r\n    return (\r\n        <div className=\"status my-3 d-flex\">\r\n            <Avatar src={auth.user.avatar} size=\"big-avatar\" />\r\n            \r\n            <button className=\"statusBtn flex-fill\"\r\n            onClick={() => dispatch({ type: GLOBALTYPES.STATUS, payload: true })}>\r\n                {auth.user.username}, what are you thinking?\r\n            </button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Status\r\n","import React, { useState } from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport PostCard from '../PostCard'\r\n\r\nimport LoadIcon from '../../images/loading.gif'\r\nimport LoadMoreBtn from '../LoadMoreBtn'\r\nimport { getDataAPI } from '../../utils/fetchData'\r\nimport { POST_TYPES } from '../../redux/actions/postAction'\r\n\r\n\r\nconst Posts = () => {\r\n    const { homePosts, auth, theme } = useSelector(state => state)\r\n    const dispatch = useDispatch()\r\n\r\n    const [load, setLoad] = useState(false)\r\n\r\n    const handleLoadMore = async () => {\r\n        setLoad(true)\r\n        const res = await getDataAPI(`posts?limit=${homePosts.page * 9}`, auth.token)\r\n\r\n        dispatch({\r\n            type: POST_TYPES.GET_POSTS, \r\n            payload: {...res.data, page: homePosts.page + 1}\r\n        })\r\n\r\n        setLoad(false)\r\n    }\r\n\r\n    return (\r\n        <div className=\"posts\">\r\n            {\r\n                homePosts.posts.map(post => (\r\n                    <PostCard key={post._id} post={post} theme={theme} />\r\n                ))\r\n            }\r\n\r\n            {\r\n                load && <img src={LoadIcon} alt=\"loading\" className=\"d-block mx-auto\" />\r\n            }\r\n\r\n            \r\n            <LoadMoreBtn result={homePosts.result} page={homePosts.page}\r\n            load={load} handleLoadMore={handleLoadMore} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Posts\r\n","import React from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\n\r\nimport UserCard from '../UserCard'\r\nimport FollowBtn from '../FollowBtn'\r\nimport LoadIcon from '../../images/loading.gif'\r\nimport { getSuggestions } from '../../redux/actions/suggestionsAction'\r\n\r\nconst RightSideBar = () => {\r\n    const { auth, suggestions } = useSelector(state => state)\r\n    const dispatch = useDispatch()\r\n\r\n    return (\r\n        <div className=\"mt-3\">\r\n            <UserCard user={auth.user} />\r\n\r\n            <div className=\"d-flex justify-content-between align-items-center my-2\">\r\n                <h5 className=\"text-danger\">Suggestions for you</h5>\r\n                {\r\n                    !suggestions.loading &&\r\n                    <i className=\"fas fa-redo\" style={{cursor: 'pointer'}}\r\n                    onClick={ () => dispatch(getSuggestions(auth.token)) } />\r\n                }\r\n            </div>\r\n\r\n            {\r\n                suggestions.loading\r\n                ? <img src={LoadIcon} alt=\"loading\" className=\"d-block mx-auto my-4\" />\r\n                : <div className=\"suggestions\">\r\n                    {\r\n                        suggestions.users.map(user => (\r\n                            <UserCard key={user._id} user={user} >\r\n                                <FollowBtn user={user} />\r\n                            </UserCard>\r\n                        ))\r\n                    }\r\n                </div>\r\n            }\r\n\r\n            \r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default RightSideBar\r\n","import React, { useEffect } from 'react'\r\n\r\nimport Status from '../components/home/Status'\r\nimport Posts from '../components/home/Posts'\r\nimport RightSideBar from '../components/home/RightSideBar'\r\n\r\nimport { useSelector } from 'react-redux'\r\nimport LoadIcon from '../images/loading.gif'\r\n\r\n\r\nlet scroll = 0;\r\n\r\nconst Home = () => {\r\n    const { homePosts } = useSelector(state => state)\r\n\r\n    window.addEventListener('scroll', () => {\r\n        if(window.location.pathname === '/'){\r\n            scroll = window.pageYOffset\r\n            return scroll;\r\n        }\r\n    })\r\n\r\n    useEffect(() => {\r\n        setTimeout(() => {\r\n            window.scrollTo({top: scroll, behavior: 'smooth'})\r\n        }, 100)\r\n    },[])\r\n\r\n    return (\r\n        <div className=\"home row mx-0\">\r\n            <div className=\"col-md-8\">\r\n                <Status />\r\n\r\n                {\r\n                    homePosts.loading \r\n                    ? <img src={LoadIcon} alt=\"loading\" className=\"d-block mx-auto\" />\r\n                    : (homePosts.result === 0 && homePosts.posts.length === 0)\r\n                        ? <h2 className=\"text-center\">No Post</h2>\r\n                        : <Posts />\r\n                }\r\n                \r\n            </div>\r\n            \r\n            <div className=\"col-md-4\">\r\n                <RightSideBar />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Home\r\n","import React, { useState, useEffect, useRef } from 'react'\r\nimport UserCard from '../UserCard'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { getDataAPI } from '../../utils/fetchData'\r\nimport { GLOBALTYPES } from '../../redux/actions/globalTypes'\r\nimport { useHistory, useParams } from 'react-router-dom'\r\nimport { MESS_TYPES, getConversations } from '../../redux/actions/messageAction'\r\n\r\n\r\nconst LeftSide = () => {\r\n    const { auth, message, online } = useSelector(state => state)\r\n    const dispatch = useDispatch()\r\n\r\n    const [search, setSearch] = useState('')\r\n    const [searchUsers, setSearchUsers] = useState([])\r\n\r\n    const history = useHistory()\r\n    const { id } = useParams()\r\n\r\n    const pageEnd = useRef()\r\n    const [page, setPage] = useState(0)\r\n\r\n    \r\n    const handleSearch = async e => {\r\n        e.preventDefault()\r\n        if(!search) return setSearchUsers([]);\r\n\r\n        try {\r\n            const res = await getDataAPI(`search?username=${search}`, auth.token)\r\n            setSearchUsers(res.data.users)\r\n        } catch (err) {\r\n            dispatch({\r\n                type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg}\r\n            })\r\n        }\r\n    }\r\n\r\n    const handleAddUser = (user) => {\r\n        setSearch('')\r\n        setSearchUsers([])\r\n        dispatch({type: MESS_TYPES.ADD_USER, payload: {...user, text: '', media: []}})\r\n        dispatch({type: MESS_TYPES.CHECK_ONLINE_OFFLINE, payload: online})\r\n        return history.push(`/message/${user._id}`)\r\n    }\r\n\r\n    const isActive = (user) => {\r\n        if(id === user._id) return 'active';\r\n        return ''\r\n    }\r\n\r\n    useEffect(() => {\r\n        if(message.firstLoad) return;\r\n        dispatch(getConversations({auth}))\r\n    },[dispatch, auth, message.firstLoad])\r\n\r\n    // Load More\r\n    useEffect(() => {\r\n        const observer = new IntersectionObserver(entries => {\r\n            if(entries[0].isIntersecting){\r\n                setPage(p => p + 1)\r\n            }\r\n        },{\r\n            threshold: 0.1\r\n        })\r\n\r\n        observer.observe(pageEnd.current)\r\n    },[setPage])\r\n\r\n    useEffect(() => {\r\n        if(message.resultUsers >= (page - 1) * 9 && page > 1){\r\n            dispatch(getConversations({auth, page}))\r\n        }\r\n    },[message.resultUsers, page, auth, dispatch])\r\n    \r\n\r\n    // Check User Online - Offline\r\n    useEffect(() => {\r\n        if(message.firstLoad) {\r\n            dispatch({type: MESS_TYPES.CHECK_ONLINE_OFFLINE, payload: online})\r\n        }\r\n    },[online, message.firstLoad, dispatch])\r\n\r\n    return (\r\n        <>\r\n            <form className=\"message_header\" onSubmit={handleSearch} >\r\n                <input type=\"text\" value={search}\r\n                placeholder=\"Enter to Search...\"\r\n                onChange={e => setSearch(e.target.value)} />\r\n\r\n                <button type=\"submit\" style={{display: 'none'}}>Search</button>\r\n            </form>\r\n\r\n            <div className=\"message_chat_list\">\r\n                {\r\n                    searchUsers.length !== 0\r\n                    ?  <>\r\n                        {\r\n                            searchUsers.map(user => (\r\n                                <div key={user._id} className={`message_user ${isActive(user)}`}\r\n                                onClick={() => handleAddUser(user)}>\r\n                                    <UserCard user={user} />\r\n                                </div>\r\n                            ))\r\n                        }\r\n                        \r\n                    </>\r\n                    : <>\r\n                        {\r\n                            message.users.map(user => (\r\n                                <div key={user._id} className={`message_user ${isActive(user)}`}\r\n                                onClick={() => handleAddUser(user)}>\r\n                                    <UserCard user={user} msg={true}>\r\n                                        {\r\n                                            user.online\r\n                                            ? <i className=\"fas fa-circle text-success\" />\r\n                                            : auth.user.following.find(item => \r\n                                                item._id === user._id\r\n                                            ) && <i className=\"fas fa-circle\" />\r\n                                                \r\n                                        }\r\n                                        \r\n                                    </UserCard>\r\n                                </div>\r\n                            ))\r\n                        }\r\n                    </>\r\n                }\r\n               \r\n               <button ref={pageEnd} style={{opacity: 0}} >Load More</button>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default LeftSide\r\n","export const BASE_URL = 'https://Connect_U-application.herokuapp.com/'","import React from 'react'\r\nimport Avatar from '../../Avatar'\r\nimport { Link, useHistory } from 'react-router-dom'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport moment from 'moment'\r\nimport { GLOBALTYPES } from '../../../redux/actions/globalTypes'\r\nimport { deletePost } from '../../../redux/actions/postAction'\r\nimport { BASE_URL } from '../../../utils/config'\r\n\r\nconst CardHeader = ({post}) => {\r\n    const { auth, socket } = useSelector(state => state)\r\n    const dispatch = useDispatch()\r\n\r\n    const history = useHistory()\r\n\r\n    const handleEditPost = () => {\r\n        dispatch({ type: GLOBALTYPES.STATUS, payload: {...post, onEdit: true}})\r\n    }\r\n\r\n    const handleDeletePost = () => {\r\n        if(window.confirm(\"Are you sure want to delete this post?\")){\r\n            dispatch(deletePost({post, auth, socket}))\r\n            return history.push(\"/\")\r\n        }\r\n    }\r\n\r\n    const handleCopyLink = () => {\r\n        navigator.clipboard.writeText(`${BASE_URL}/post/${post._id}`)\r\n    }\r\n\r\n    return (\r\n        <div className=\"card_header\">\r\n            <div className=\"d-flex\">\r\n                <Avatar src={post.user.avatar} size=\"big-avatar\" />\r\n\r\n                <div className=\"card_name\">\r\n                    <h6 className=\"m-0\">\r\n                        <Link to={`/profile/${post.user._id}`} className=\"text-dark\">\r\n                            {post.user.username}\r\n                        </Link>\r\n                    </h6>\r\n                    <small className=\"text-muted\">\r\n                        {moment(post.createdAt).fromNow()}\r\n                    </small>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"nav-item dropdown\">\r\n                <span className=\"material-icons\" id=\"moreLink\" data-toggle=\"dropdown\">\r\n                    more_horiz\r\n                </span>\r\n\r\n                <div className=\"dropdown-menu\">\r\n                    {\r\n                        auth.user._id === post.user._id &&\r\n                        <>\r\n                            <div className=\"dropdown-item\" onClick={handleEditPost}>\r\n                                <span className=\"material-icons\">create</span> Edit Post\r\n                            </div>\r\n                            <div className=\"dropdown-item\" onClick={handleDeletePost} >\r\n                                <span className=\"material-icons\">delete_outline</span> Remove Post\r\n                            </div>\r\n                        </>\r\n                    }\r\n\r\n                    <div className=\"dropdown-item\" onClick={handleCopyLink}>\r\n                        <span className=\"material-icons\">content_copy</span> Copy Link\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CardHeader\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\n\r\nconst Carousel = ({images, id}) => {\r\n    const isActive = index => {\r\n        if(index === 0) return \"active\";\r\n    }\r\n\r\n    const { theme } = useSelector(state => state)\r\n\r\n    return (\r\n        <div id={`image${id}`} className=\"carousel slide\" data-ride=\"carousel\">\r\n            <ol className=\"carousel-indicators\" style={{zIndex: 1}}>\r\n                {\r\n                    images.map((img, index) => (\r\n                        <li key={index} data-target={`#image${id}`} \r\n                        data-slide-to={index} className={isActive(index)} />\r\n                    ))\r\n                }\r\n                \r\n            </ol>\r\n\r\n            <div className=\"carousel-inner\">\r\n                {\r\n                    images.map((img, index) => (\r\n                        <div key={index} className={`carousel-item ${isActive(index)}`}>\r\n                            {\r\n                                img.url.match(/video/i)\r\n                                ? <video controls src={img.url} className=\"d-block w-100\" alt={img.url}\r\n                                style={{filter: theme ? 'invert(1)' : 'invert(0)'}} />\r\n\r\n                                : <img src={img.url} className=\"d-block w-100\" alt={img.url}\r\n                                style={{filter: theme ? 'invert(1)' : 'invert(0)'}} />\r\n                            }\r\n                           \r\n                        </div>\r\n                    ))\r\n                }\r\n                \r\n            </div>\r\n            \r\n            {\r\n                images.length > 1 &&\r\n                <>\r\n                    <a className=\"carousel-control-prev\" href={`#image${id}`} role=\"button\" data-slide=\"prev\"\r\n                    style={{width: '5%'}}>\r\n                        <span className=\"carousel-control-prev-icon\" aria-hidden=\"true\"></span>\r\n                        <span className=\"sr-only\">Previous</span>\r\n                    </a>\r\n\r\n                    <a className=\"carousel-control-next\" href={`#image${id}`} role=\"button\" data-slide=\"next\"\r\n                    style={{width: '5%'}}>\r\n                        <span className=\"carousel-control-next-icon\" aria-hidden=\"true\"></span>\r\n                        <span className=\"sr-only\">Next</span>\r\n                    </a>\r\n                </>\r\n            }\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Carousel\r\n","import React, { useState } from 'react'\r\nimport Carousel from '../../Carousel'\r\n\r\nconst CardBody = ({post, theme}) => {\r\n    const [readMore, setReadMore] = useState(false)\r\n\r\n    \r\n    return (\r\n        <div className=\"card_body\">\r\n            <div className=\"card_body-content\" \r\n            style={{\r\n                filter: theme ? 'invert(1)' : 'invert(0)',\r\n                color: theme ? 'white' : '#111',\r\n            }}>\r\n                <span>\r\n                    {\r\n                        post.content.length < 60 \r\n                        ? post.content \r\n                        : readMore ? post.content + ' ' : post.content.slice(0, 60) + '.....'\r\n                    }\r\n                </span>\r\n                {\r\n                    post.content.length > 60 &&\r\n                    <span className=\"readMore\" onClick={() => setReadMore(!readMore)}>\r\n                        {readMore ? 'Hide content' : 'Read more'}\r\n                    </span>\r\n                }\r\n\r\n            </div>\r\n            {\r\n                post.images.length > 0 && <Carousel images={post.images} id={post._id} />\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CardBody\r\n","export default __webpack_public_path__ + \"static/media/send.fab9d966.svg\";","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\n\r\nconst LikeButton = ({isLike, handleLike, handleUnLike}) => {\r\n    const { theme } = useSelector(state => state)\r\n\r\n    return (\r\n        <>\r\n            {\r\n                isLike\r\n                ? <i className=\"fas fa-heart text-danger\" onClick={handleUnLike}\r\n                style={{filter: theme ? 'invert(1)' : 'invert(0)'}} />\r\n                : <i className=\"far fa-heart\" onClick={handleLike} />\r\n            }\r\n        </>\r\n    )\r\n}\r\n\r\nexport default LikeButton\r\n","import React from 'react'\r\nimport {\r\n    EmailShareButton, EmailIcon,\r\n    FacebookShareButton, FacebookIcon,\r\n    TelegramShareButton, TelegramIcon,\r\n    TwitterShareButton, TwitterIcon,\r\n    WhatsappShareButton, WhatsappIcon,\r\n    RedditShareButton, RedditIcon\r\n} from 'react-share'\r\n\r\nconst ShareModal = ({url, theme}) => {\r\n    return (\r\n        <div className=\"d-flex justify-content-between px-4 py-2\"\r\n        style={{filter: theme ? 'invert(1)' : 'invert(0)' }}>\r\n            <FacebookShareButton url={url} >\r\n                <FacebookIcon round={true} size={32} />\r\n            </FacebookShareButton>\r\n\r\n            <TwitterShareButton url={url} >\r\n                <TwitterIcon round={true} size={32} />\r\n            </TwitterShareButton>\r\n\r\n            <EmailShareButton url={url} >\r\n                <EmailIcon round={true} size={32} />\r\n            </EmailShareButton>\r\n\r\n            <RedditShareButton url={url} >\r\n                <RedditIcon round={true} size={32} />\r\n            </RedditShareButton>\r\n\r\n            <TelegramShareButton url={url} >\r\n                <TelegramIcon round={true} size={32} />\r\n            </TelegramShareButton>\r\n\r\n            <WhatsappShareButton url={url} >\r\n                <WhatsappIcon round={true} size={32} />\r\n            </WhatsappShareButton>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ShareModal\r\n","import React, { useState, useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport Send from '../../../images/send.svg'\r\nimport LikeButton from '../../LikeButton'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { likePost, unLikePost, savePost, unSavePost } from '../../../redux/actions/postAction'\r\nimport ShareModal from '../../ShareModal'\r\nimport { BASE_URL } from '../../../utils/config'\r\n\r\n\r\nconst CardFooter = ({post}) => {\r\n    const [isLike, setIsLike] = useState(false)\r\n    const [loadLike, setLoadLike] = useState(false)\r\n\r\n    const [isShare, setIsShare] = useState(false)\r\n\r\n    const { auth, theme, socket } = useSelector(state => state)\r\n    const dispatch = useDispatch()\r\n\r\n    const [saved, setSaved] = useState(false)\r\n    const [saveLoad, setSaveLoad] = useState(false)\r\n\r\n    // Likes\r\n    useEffect(() => {\r\n        if(post.likes.find(like => like._id === auth.user._id)){\r\n            setIsLike(true)\r\n        }else{\r\n            setIsLike(false)\r\n        }\r\n    }, [post.likes, auth.user._id])\r\n\r\n    const handleLike = async () => {\r\n        if(loadLike) return;\r\n        \r\n        setLoadLike(true)\r\n        await dispatch(likePost({post, auth, socket}))\r\n        setLoadLike(false)\r\n    }\r\n\r\n    const handleUnLike = async () => {\r\n        if(loadLike) return;\r\n\r\n        setLoadLike(true)\r\n        await dispatch(unLikePost({post, auth, socket}))\r\n        setLoadLike(false)\r\n    }\r\n\r\n\r\n    // Saved\r\n    useEffect(() => {\r\n        if(auth.user.saved.find(id => id === post._id)){\r\n            setSaved(true)\r\n        }else{\r\n            setSaved(false)\r\n        }\r\n    },[auth.user.saved, post._id])\r\n\r\n    const handleSavePost = async () => {\r\n        if(saveLoad) return;\r\n        \r\n        setSaveLoad(true)\r\n        await dispatch(savePost({post, auth}))\r\n        setSaveLoad(false)\r\n    }\r\n\r\n    const handleUnSavePost = async () => {\r\n        if(saveLoad) return;\r\n\r\n        setSaveLoad(true)\r\n        await dispatch(unSavePost({post, auth}))\r\n        setSaveLoad(false)\r\n    }\r\n\r\n    return (\r\n        <div className=\"card_footer\">\r\n            <div className=\"card_icon_menu\">\r\n                <div>\r\n                    <LikeButton \r\n                    isLike={isLike}\r\n                    handleLike={handleLike}\r\n                    handleUnLike={handleUnLike}\r\n                    />\r\n\r\n                    <Link to={`/post/${post._id}`} className=\"text-dark\">\r\n                        <i className=\"far fa-comment\" />\r\n                    </Link>\r\n\r\n                    <img src={Send} alt=\"Send\" onClick={() => setIsShare(!isShare)} />\r\n                </div>\r\n\r\n                {\r\n                    saved \r\n                    ?  <i className=\"fas fa-bookmark text-info\"\r\n                    onClick={handleUnSavePost} />\r\n\r\n                    :  <i className=\"far fa-bookmark\"\r\n                    onClick={handleSavePost} />\r\n                }\r\n               \r\n            </div>\r\n\r\n            <div className=\"d-flex justify-content-between\">\r\n                <h6 style={{padding: '0 25px', cursor: 'pointer'}}>\r\n                    {post.likes.length} likes\r\n                </h6>\r\n                \r\n                <h6 style={{padding: '0 25px', cursor: 'pointer'}}>\r\n                    {post.comments.length} comments\r\n                </h6>\r\n            </div>\r\n\r\n            {\r\n                isShare && <ShareModal url={`${BASE_URL}/post/${post._id}`} theme={theme} />\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CardFooter\r\n","import { GLOBALTYPES, EditData, DeleteData } from './globalTypes'\r\nimport { POST_TYPES } from './postAction'\r\nimport { postDataAPI, patchDataAPI, deleteDataAPI } from '../../utils/fetchData'\r\nimport { createNotify, removeNotify } from '../actions/notifyAction'\r\n\r\n\r\nexport const createComment = ({post, newComment, auth, socket}) => async (dispatch) => {\r\n    const newPost = {...post, comments: [...post.comments, newComment]}\r\n    \r\n    dispatch({ type: POST_TYPES.UPDATE_POST, payload: newPost })\r\n\r\n    try {\r\n        const data = {...newComment, postId: post._id, postUserId: post.user._id}\r\n        const res = await postDataAPI('comment', data, auth.token)\r\n\r\n        const newData = {...res.data.newComment, user: auth.user}\r\n        const newPost = {...post, comments: [...post.comments, newData]}\r\n        dispatch({ type: POST_TYPES.UPDATE_POST, payload: newPost })\r\n\r\n        // Socket\r\n        socket.emit('createComment', newPost)\r\n\r\n        // Notify\r\n        const msg = {\r\n            id: res.data.newComment._id,\r\n            text: newComment.reply ? 'mentioned you in a comment.' : 'has commented on your post.',\r\n            recipients: newComment.reply ? [newComment.tag._id] : [post.user._id],\r\n            url: `/post/${post._id}`,\r\n            content: post.content, \r\n            image: post.images[0].url\r\n        }\r\n\r\n        dispatch(createNotify({msg, auth, socket}))\r\n        \r\n    } catch (err) {\r\n        dispatch({ type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg} })\r\n    }\r\n}\r\n\r\nexport const updateComment = ({comment, post, content, auth}) => async (dispatch) => {\r\n    const newComments = EditData(post.comments, comment._id, {...comment, content})\r\n    const newPost = {...post, comments: newComments}\r\n    \r\n    dispatch({ type: POST_TYPES.UPDATE_POST, payload: newPost })\r\n    try {\r\n        patchDataAPI(`comment/${comment._id}`, { content }, auth.token)\r\n    } catch (err) {\r\n        dispatch({ type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg} })\r\n    }\r\n}\r\n\r\nexport const likeComment = ({comment, post, auth}) => async (dispatch) => {\r\n    const newComment = {...comment, likes: [...comment.likes, auth.user]}\r\n\r\n    const newComments = EditData(post.comments, comment._id, newComment)\r\n\r\n    const newPost = {...post, comments: newComments}\r\n    \r\n    dispatch({ type: POST_TYPES.UPDATE_POST, payload: newPost })\r\n\r\n    try {\r\n        await patchDataAPI(`comment/${comment._id}/like`, null, auth.token)\r\n    } catch (err) {\r\n        dispatch({ type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg} })\r\n    }\r\n}\r\n\r\nexport const unLikeComment = ({comment, post, auth}) => async (dispatch) => {\r\n\r\n    const newComment = {...comment, likes: DeleteData(comment.likes, auth.user._id)}\r\n\r\n    const newComments = EditData(post.comments, comment._id, newComment)\r\n\r\n    const newPost = {...post, comments: newComments}\r\n    \r\n    dispatch({ type: POST_TYPES.UPDATE_POST, payload: newPost })\r\n\r\n    try {\r\n        await patchDataAPI(`comment/${comment._id}/unlike`, null, auth.token)\r\n    } catch (err) {\r\n        dispatch({ type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg} })\r\n    }\r\n}\r\n\r\nexport const deleteComment = ({post, comment, auth, socket}) => async (dispatch) => {\r\n    const deleteArr = [...post.comments.filter(cm => cm.reply === comment._id), comment]\r\n    \r\n    const newPost = {\r\n        ...post,\r\n        comments: post.comments.filter(cm => !deleteArr.find(da => cm._id === da._id))\r\n    }\r\n\r\n    dispatch({ type: POST_TYPES.UPDATE_POST, payload: newPost })\r\n\r\n    socket.emit('deleteComment', newPost)\r\n    try {\r\n       deleteArr.forEach(item => {\r\n            deleteDataAPI(`comment/${item._id}`, auth.token)\r\n\r\n            const msg = {\r\n                id: item._id,\r\n                text: comment.reply ? 'mentioned you in a comment.' : 'has commented on your post.',\r\n                recipients: comment.reply ? [comment.tag._id] : [post.user._id],\r\n                url: `/post/${post._id}`,\r\n            }\r\n    \r\n            dispatch(removeNotify({msg, auth, socket}))\r\n       })\r\n    } catch (err) {\r\n        dispatch({ type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg} })\r\n    }\r\n\r\n}","import React from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { deleteComment } from '../../../redux/actions/commentAction'\r\n\r\nconst CommentMenu = ({post, comment, setOnEdit}) => {\r\n\r\n    const { auth, socket } = useSelector(state => state)\r\n    const dispatch = useDispatch()\r\n\r\n    const handleRemove = () => {\r\n        if(post.user._id === auth.user._id || comment.user._id === auth.user._id){\r\n            dispatch(deleteComment({post, auth, comment, socket}))\r\n        }\r\n    }\r\n\r\n    const MenuItem = () => {\r\n        return(\r\n            <>\r\n                <div className=\"dropdown-item\" onClick={() => setOnEdit(true)}>\r\n                    <span className=\"material-icons\">create</span> Edit\r\n                </div>\r\n                <div className=\"dropdown-item\" onClick={handleRemove}>\r\n                    <span className=\"material-icons\">delete_outline</span> Remove\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"menu\">\r\n            {\r\n                (post.user._id === auth.user._id || comment.user._id === auth.user._id) &&\r\n                <div className=\"nav-item dropdown\">\r\n                    <span className=\"material-icons\" id=\"moreLink\" data-toggle=\"dropdown\">\r\n                        more_vert\r\n                    </span>\r\n\r\n                    <div className=\"dropdown-menu\" aria-labelledby=\"moreLink\">\r\n                        {\r\n                            post.user._id === auth.user._id\r\n                            ? comment.user._id === auth.user._id\r\n                                ? MenuItem()\r\n                                : <div className=\"dropdown-item\" onClick={handleRemove}>\r\n                                    <span className=\"material-icons\">delete_outline</span> Remove\r\n                                </div>\r\n                            : comment.user._id === auth.user._id && MenuItem()\r\n                        }\r\n                    </div>\r\n\r\n                </div>\r\n            }\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CommentMenu\r\n","import React, { useState } from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { createComment } from '../../redux/actions/commentAction'\r\nimport Icons from '../Icons'\r\n\r\nconst InputComment = ({children, post, onReply, setOnReply}) => {\r\n    const [content, setContent] = useState('')\r\n\r\n    const { auth, socket, theme } = useSelector(state => state)\r\n    const dispatch = useDispatch()\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault()\r\n        if(!content.trim()){\r\n            if(setOnReply) return setOnReply(false);\r\n            return;\r\n        }\r\n\r\n        setContent('')\r\n        \r\n        const newComment = {\r\n            content,\r\n            likes: [],\r\n            user: auth.user,\r\n            createdAt: new Date().toISOString(),\r\n            reply: onReply && onReply.commentId,\r\n            tag: onReply && onReply.user\r\n        }\r\n        \r\n        dispatch(createComment({post, newComment, auth, socket}))\r\n\r\n        if(setOnReply) return setOnReply(false);\r\n    }\r\n\r\n    return (\r\n        <form className=\"card-footer comment_input\" onSubmit={handleSubmit} >\r\n            {children}\r\n            <input type=\"text\" placeholder=\"Add your comments...\"\r\n            value={content} onChange={e => setContent(e.target.value)}\r\n            style={{\r\n                filter: theme ? 'invert(1)' : 'invert(0)',\r\n                color: theme ? 'white' : '#111',\r\n                background: theme ? 'rgba(0,0,0,.03)' : '',\r\n            }} />\r\n\r\n            <Icons setContent={setContent} content={content} theme={theme} />\r\n\r\n            <button type=\"submit\" className=\"postBtn\">\r\n                Post\r\n            </button>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default InputComment\r\n","import React, { useState, useEffect } from 'react'\r\nimport Avatar from '../../Avatar'\r\nimport { Link } from 'react-router-dom'\r\nimport moment from 'moment'\r\n\r\nimport LikeButton from '../../LikeButton'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport CommentMenu from './CommentMenu'\r\nimport { updateComment, likeComment, unLikeComment } from '../../../redux/actions/commentAction'\r\nimport InputComment from '../InputComment'\r\n\r\nconst CommentCard = ({children, comment, post, commentId}) => {\r\n    const { auth, theme } = useSelector(state => state)\r\n    const dispatch = useDispatch()\r\n\r\n    const [content, setContent] = useState('')\r\n    const [readMore, setReadMore] = useState(false)\r\n\r\n    const [onEdit, setOnEdit] = useState(false)\r\n    const [isLike, setIsLike] = useState(false)\r\n    const [loadLike, setLoadLike] = useState(false)\r\n\r\n    const [onReply, setOnReply] = useState(false)\r\n\r\n\r\n    useEffect(() => {\r\n        setContent(comment.content)\r\n        setIsLike(false)\r\n        setOnReply(false)\r\n        if(comment.likes.find(like => like._id === auth.user._id)){\r\n            setIsLike(true)\r\n        }\r\n    },[comment, auth.user._id])\r\n\r\n    const handleUpdate = () => {\r\n        if(comment.content !== content){\r\n            dispatch(updateComment({comment, post, content, auth}))\r\n            setOnEdit(false)\r\n        }else{\r\n            setOnEdit(false)\r\n        }\r\n    }\r\n\r\n\r\n    const handleLike = async () => {\r\n        if(loadLike) return;\r\n        setIsLike(true)\r\n\r\n        setLoadLike(true)\r\n        await dispatch(likeComment({comment, post, auth}))\r\n        setLoadLike(false)\r\n    }\r\n\r\n    const handleUnLike = async () => {\r\n        if(loadLike) return;\r\n        setIsLike(false)\r\n\r\n        setLoadLike(true)\r\n        await dispatch(unLikeComment({comment, post, auth}))\r\n        setLoadLike(false)\r\n    }\r\n\r\n\r\n    const handleReply = () => {\r\n        if(onReply) return setOnReply(false)\r\n        setOnReply({...comment, commentId})\r\n    }\r\n\r\n    const styleCard = {\r\n        opacity: comment._id ? 1 : 0.5,\r\n        pointerEvents: comment._id ? 'inherit' : 'none'\r\n    }\r\n\r\n    return (\r\n        <div className=\"comment_card mt-2\" style={styleCard}>\r\n            <Link to={`/profile/${comment.user._id}`} className=\"d-flex text-dark\">\r\n                <Avatar src={comment.user.avatar} size=\"small-avatar\" />\r\n                <h6 className=\"mx-1\">{comment.user.username}</h6>\r\n            </Link>\r\n\r\n            <div className=\"comment_content\">\r\n                <div className=\"flex-fill\" \r\n                style={{\r\n                    filter: theme ? 'invert(1)' : 'invert(0)',\r\n                    color: theme ? 'white' : '#111',\r\n                }}>\r\n                    {\r\n                        onEdit \r\n                        ? <textarea rows=\"5\" value={content}\r\n                        onChange={e => setContent(e.target.value)} />\r\n\r\n                        : <div>\r\n                            {\r\n                                comment.tag && comment.tag._id !== comment.user._id &&\r\n                                <Link to={`/profile/${comment.tag._id}`} className=\"mr-1\">\r\n                                    @{comment.tag.username}\r\n                                </Link>\r\n                            }\r\n                            <span>\r\n                                {\r\n                                    content.length < 100 ? content :\r\n                                    readMore ? content + ' ' : content.slice(0, 100) + '....'\r\n                                }\r\n                            </span>\r\n                            {\r\n                                content.length > 100 &&\r\n                                <span className=\"readMore\" onClick={() => setReadMore(!readMore)}>\r\n                                    {readMore ? 'Hide content' : 'Read more'}\r\n                                </span>\r\n                            }\r\n                        </div>\r\n                    }\r\n                    \r\n\r\n                    <div style={{cursor: 'pointer'}}>\r\n                        <small className=\"text-muted mr-3\">\r\n                            {moment(comment.createdAt).fromNow()}\r\n                        </small>\r\n\r\n                        <small className=\"font-weight-bold mr-3\">\r\n                            {comment.likes.length} likes\r\n                        </small>\r\n\r\n                        {\r\n                            onEdit\r\n                            ? <>\r\n                                <small className=\"font-weight-bold mr-3\"\r\n                                onClick={handleUpdate}>\r\n                                    update\r\n                                </small>\r\n                                <small className=\"font-weight-bold mr-3\"\r\n                                onClick={() => setOnEdit(false)}>\r\n                                    cancel\r\n                                </small>\r\n                            </>\r\n\r\n                            : <small className=\"font-weight-bold mr-3\"\r\n                            onClick={handleReply}>\r\n                                {onReply ? 'cancel' :'reply'}\r\n                            </small>\r\n                        }\r\n                        \r\n                    </div>\r\n                    \r\n                </div>\r\n\r\n\r\n                <div className=\"d-flex align-items-center mx-2\" style={{cursor: 'pointer'}}>\r\n                    <CommentMenu post={post} comment={comment} setOnEdit={setOnEdit} />\r\n                    <LikeButton isLike={isLike} handleLike={handleLike} handleUnLike={handleUnLike} />\r\n                </div>\r\n            </div> \r\n            \r\n            {\r\n                onReply &&\r\n                <InputComment post={post} onReply={onReply} setOnReply={setOnReply} >\r\n                    <Link to={`/profile/${onReply.user._id}`} className=\"mr-1\">\r\n                        @{onReply.user.username}:\r\n                    </Link>\r\n                </InputComment>\r\n            }\r\n\r\n            {children}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CommentCard\r\n","import React, { useState, useEffect } from 'react'\r\nimport CommentCard from './CommentCard'\r\n\r\nconst CommentDisplay = ({comment, post, replyCm}) => {\r\n    const [showRep, setShowRep] = useState([])\r\n    const [next, setNext] = useState(1)\r\n\r\n    useEffect(() => {\r\n        setShowRep(replyCm.slice(replyCm.length - next))\r\n    },[replyCm, next])\r\n\r\n    return (\r\n        <div className=\"comment_display\">\r\n            <CommentCard comment={comment} post={post} commentId={comment._id} >\r\n                <div className=\"pl-4\">\r\n                    {\r\n                        showRep.map((item, index) => (\r\n                            item.reply &&\r\n                            <CommentCard\r\n                            key={index}\r\n                            comment={item}\r\n                            post={post}\r\n                            commentId={comment._id}\r\n                             />\r\n                        ))\r\n                    }\r\n\r\n                    {\r\n                        replyCm.length - next > 0\r\n                        ? <div style={{cursor: 'pointer', color: 'crimson'}}\r\n                        onClick={() => setNext(next + 10)}>\r\n                            See more comments...\r\n                        </div>\r\n\r\n                        : replyCm.length > 1 &&\r\n                        <div style={{cursor: 'pointer', color: 'crimson'}}\r\n                        onClick={() => setNext(1)}>\r\n                            Hide comments...\r\n                        </div>\r\n                    }\r\n                </div>\r\n            </CommentCard>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CommentDisplay\r\n","import React, { useState, useEffect } from 'react'\r\nimport CommentDisplay from './comments/CommentDisplay'\r\n\r\nconst Comments = ({post}) => {\r\n    const [comments, setComments] = useState([])\r\n    const [showComments, setShowComments] = useState([])\r\n    const [next, setNext] = useState(2)\r\n\r\n    const [replyComments, setReplyComments] = useState([])\r\n\r\n    useEffect(() => {\r\n        const newCm = post.comments.filter(cm => !cm.reply)\r\n        setComments(newCm)\r\n        setShowComments(newCm.slice(newCm.length - next))\r\n    },[post.comments, next])\r\n\r\n    useEffect(()=> {\r\n        const newRep = post.comments.filter(cm => cm.reply)\r\n        setReplyComments(newRep)\r\n    }, [post.comments])\r\n\r\n    return (\r\n        <div className=\"comments\">\r\n            {\r\n                showComments.map((comment, index) => (\r\n                    <CommentDisplay key={index} comment={comment} post={post}\r\n                    replyCm={replyComments.filter(item => item.reply === comment._id)} />\r\n                ))\r\n            }\r\n\r\n            {\r\n                comments.length - next > 0\r\n                ? <div className=\"p-2 border-top\"\r\n                style={{cursor: 'pointer', color: 'crimson'}}\r\n                onClick={() => setNext(next + 10)}>\r\n                    See more comments...\r\n                </div>\r\n\r\n                : comments.length > 2 &&\r\n                <div className=\"p-2 border-top\"\r\n                style={{cursor: 'pointer', color: 'crimson'}}\r\n                onClick={() => setNext(2)}>\r\n                    Hide comments...\r\n                </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Comments\r\n","import React from 'react'\r\nimport CardHeader from './home/post_card/CardHeader'\r\nimport CardBody from './home/post_card/CardBody'\r\nimport CardFooter from './home/post_card/CardFooter'\r\n\r\nimport Comments from './home/Comments'\r\nimport InputComment from './home/InputComment'\r\n\r\nconst PostCard = ({post, theme}) => {\r\n    return (\r\n        <div className=\"card my-3\"> \r\n            <CardHeader post={post} />\r\n            <CardBody post={post} theme={theme} />\r\n            <CardFooter post={post} />\r\n\r\n            <Comments post={post} />\r\n            <InputComment post={post} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PostCard\r\n","import React, { useState, useEffect } from \"react\";\r\n\r\nconst Contest = () => {\r\n    const [location, setLocation] = useState({\r\n        loaded: false,\r\n        coordinates: { lat: \"\", lng: \"\" },\r\n    });\r\n\r\n    const onSuccess = (location) => {\r\n        setLocation({\r\n            loaded: true,\r\n            coordinates: {\r\n                lat: location.coords.latitude,\r\n                lng: location.coords.longitude,\r\n            },\r\n        });\r\n    };\r\n\r\n    const onError = (error) => {\r\n        setLocation({\r\n            loaded: true,\r\n            error: {\r\n                code: error.code,\r\n                message: error.message,\r\n            },\r\n        });\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (!(\"geolocation\" in navigator)) {\r\n            onError({\r\n                code: 0,\r\n                message: \"Geolocation not supported\",\r\n            });\r\n        }\r\n        navigator.geolocation.getCurrentPosition(onSuccess, onError);\r\n    }, []);\r\n    return(\r\n        <div>\r\n            <div className=\"page\">\r\n                <div className=\"row\">\r\n                <div className=\"col-md-10\">\r\n                        <h1 className=\"space\">Search Hiring Challenges</h1>\r\n                        <div class=\"box\">\r\n                            <div className=\"row\">\r\n                                <div className=\"col1\">\r\n                                    <img src=\"flipkart.png\"></img>\r\n                                </div>\r\n                                <div className=\"col2\">\r\n                                    <div className=\"heading\"><strong>Flipkart Gird 2.0</strong></div>\r\n                                    <div className=\"subheading\">Flipkart</div>\r\n                                    <div className=\"subheading\">17,836 Registered</div>\r\n                                    <div className=\"subheading\">10 days left</div>\r\n                                    <button>Register</button>\r\n                                </div>\r\n                            </div>\r\n                        </div>  \r\n                        <div class=\"box\">\r\n                            <div className=\"row\">\r\n                                <div className=\"col1\">\r\n                                    <img src=\"amazon.png\"></img>\r\n                                </div>\r\n                                <div className=\"col2\">\r\n                                    <div className=\"heading\"><strong>Amazon Wow</strong></div>\r\n                                    <div className=\"subheading\">Amazon</div>\r\n                                    <div className=\"subheading\">2,068 Registered</div>\r\n                                    <div className=\"subheading\">8 days left</div>\r\n                                    <button>Register</button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"box\">\r\n                            <div className=\"row\">\r\n                                <div className=\"col1\">\r\n                                    <img src=\"google.png\"></img>\r\n                                </div>\r\n                                <div className=\"col2\">\r\n                                    <div className=\"heading\"><strong>Google Kickstart</strong></div>\r\n                                    <div className=\"subheading\">Google</div>\r\n                                    <div className=\"subheading\">175 Registered</div>\r\n                                    <div className=\"subheading\">21 hours left</div>\r\n                                    <button>Register</button>\r\n                                </div>\r\n                            </div>\r\n                        </div>   \r\n                        <div class=\"box\">\r\n                            <div className=\"row\">\r\n                                <div className=\"col1\">\r\n                                    <img src=\"zs.jfif\"></img>\r\n                                </div>\r\n                                <div className=\"col2\">\r\n                                    <div className=\"heading\"><strong>ZS Case Challenges</strong></div>\r\n                                    <div className=\"subheading\">ZS Association</div>\r\n                                    <div className=\"subheading\">1.3L Views</div>\r\n                                    <div className=\"subheading\">29 days left</div>\r\n                                    <button>Register</button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                </div>\r\n                <div className=\"col-md-2\">\r\n                    <div className=\"filter\">\r\n                        <div className=\"filterhead\">Filters<span className=\"filtersub\">Reset Filters</span></div>\r\n                        <hr></hr>\r\n                        <div className=\"size\">Team Size : <span><input type=\"range\" min=\"1\" max=\"5\" ></input></span></div>\r\n                        <hr></hr>\r\n                        <div className=\"size\">Payment <span>\r\n                            <input type=\"radio\" name=\"pay\" value=\"all\" className=\"rad\"></input> <label for=\"all\">All</label>\r\n                            <input type=\"radio\" name=\"pay\" value=\"free\" className=\"rad\"></input> <label for=\"free\">Free</label>\r\n                            <input type=\"radio\" name=\"pay\" value=\"paid\" className=\"rad\"></input> <label for=\"paid\">Paid</label>\r\n                            </span>\r\n                        </div>\r\n                        <hr></hr>\r\n                        <div>\r\n                        <div className=\"size\">Eligibility</div>\r\n                        <div>\r\n                                <input type=\"radio\" name=\"pay\" value=\"all\" className=\"rady\"></input> <label for=\"all\">All</label>\r\n                        </div>\r\n                        <div>\r\n                                <input type=\"radio\" name=\"pay\" value=\"prof\" className=\"rady\"></input> <label for=\"prof\">Professional</label>\r\n                        </div>\r\n                        <div>\r\n                                <input type=\"radio\" name=\"pay\" value=\"start\" className=\"rady\"></input> <label for=\"start\">Startups</label>\r\n                        </div>\r\n                        <div>\r\n                                <input type=\"radio\" name=\"pay\" value=\"school\" className=\"rady\"></input> <label for=\"school\">School Students</label>\r\n                        </div>\r\n                        <div>\r\n                                <input type=\"radio\" name=\"pay\" value=\"college\" className=\"rady\"></input> <label for=\"college\">College Students</label>\r\n                        </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                </div> \r\n            </div>               \r\n        </div>)\r\n};\r\n\r\nexport default Contest;","import React, { useState, useEffect } from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { getDiscoverPosts, DISCOVER_TYPES } from '../redux/actions/discoverAction'\r\nimport LoadIcon from '../images/loading.gif'\r\nimport PostThumb from '../components/PostThumb'\r\nimport LoadMoreBtn from '../components/LoadMoreBtn'\r\nimport { getDataAPI} from '../utils/fetchData'\r\n\r\nconst Discover = () => {\r\n    const { auth, discover } = useSelector(state => state)\r\n    const dispatch = useDispatch()\r\n\r\n    const [load, setLoad] = useState(false)\r\n\r\n    useEffect(() => {\r\n        if(!discover.firstLoad){\r\n            dispatch(getDiscoverPosts(auth.token))\r\n        }\r\n    },[dispatch, auth.token, discover.firstLoad])\r\n\r\n    const handleLoadMore = async () => {\r\n        setLoad(true)\r\n        const res = await getDataAPI(`post_discover?num=${discover.page * 9}`, auth.token)\r\n        dispatch({type: DISCOVER_TYPES.UPDATE_POST, payload: res.data})\r\n        setLoad(false)\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {\r\n                discover.loading \r\n                ? <img src={LoadIcon} alt=\"loading\" className=\"d-block mx-auto my-4\" />\r\n                : <PostThumb posts={discover.posts} result={discover.result} />\r\n            }\r\n\r\n            {\r\n                load && <img src={LoadIcon} alt=\"loading\" className=\"d-block mx-auto\" />\r\n            }\r\n\r\n            {\r\n                !discover.loading &&\r\n                <LoadMoreBtn result={discover.result} page={discover.page}\r\n                load={load} handleLoadMore={handleLoadMore} />\r\n            }\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Discover\r\n","import axios from 'axios'\r\n\r\nexport const getDataAPI = async (url, token) => {\r\n    const res = await axios.get(`/api/${url}`, {\r\n        headers: { Authorization: token}\r\n    })\r\n    return res;\r\n}\r\n\r\nexport const postDataAPI = async (url, post, token) => {\r\n    const res = await axios.post(`/api/${url}`, post, {\r\n        headers: { Authorization: token}\r\n    })\r\n    return res;\r\n}\r\n\r\nexport const putDataAPI = async (url, post, token) => {\r\n    const res = await axios.put(`/api/${url}`, post, {\r\n        headers: { Authorization: token}\r\n    })\r\n    return res;\r\n}\r\n\r\nexport const patchDataAPI = async (url, post, token) => {\r\n    const res = await axios.patch(`/api/${url}`, post, {\r\n        headers: { Authorization: token}\r\n    })\r\n    return res;\r\n}\r\n\r\nexport const deleteDataAPI = async (url, token) => {\r\n    const res = await axios.delete(`/api/${url}`, {\r\n        headers: { Authorization: token}\r\n    })\r\n    return res;\r\n}","import React, { useState, useEffect } from \"react\";\r\n\r\nconst Geolocation = () => {\r\n    const [location, setLocation] = useState({\r\n        loaded: false,\r\n        coordinates: { lat: \"\", lng: \"\" },\r\n    });\r\n\r\n    const onSuccess = (location) => {\r\n        setLocation({\r\n            loaded: true,\r\n            coordinates: {\r\n                lat: location.coords.latitude,\r\n                lng: location.coords.longitude,\r\n            },\r\n        });\r\n    };\r\n\r\n    const onError = (error) => {\r\n        setLocation({\r\n            loaded: true,\r\n            error: {\r\n                code: error.code,\r\n                message: error.message,\r\n            },\r\n        });\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (!(\"geolocation\" in navigator)) {\r\n            onError({\r\n                code: 0,\r\n                message: \"Geolocation not supported\",\r\n            });\r\n        }\r\n        navigator.geolocation.getCurrentPosition(onSuccess, onError);\r\n    }, []);\r\n    return(\r\n        <div>\r\n                                 {/* {location.loaded\r\n                                    ? JSON.stringify(location)\r\n                                    : \"Location data not available yet.\"} */}\r\n                                <iframe src={`https://maps.google.com/maps?q=${location.coordinates.lat},${location.coordinates.lng}&t=&z=15&ie=UTF8&iwloc=&output=embed`} title=\"mycurrentlocation\" width=\"100%\" height=\"650px\"/>\r\n                            </div>)\r\n};\r\n\r\nexport default Geolocation;","import React, { useState, useEffect } from 'react'\r\nimport { useParams } from 'react-router-dom'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { getPost } from '../../redux/actions/postAction'\r\nimport LoadIcon from '../../images/loading.gif'\r\nimport PostCard from '../../components/PostCard'\r\n\r\n\r\nconst Post = () => {\r\n    const { id } = useParams()\r\n    const [post, setPost] = useState([])\r\n\r\n    const { auth, detailPost } = useSelector(state => state)\r\n    const dispatch = useDispatch()\r\n\r\n    useEffect(() => {\r\n        dispatch(getPost({detailPost, id, auth}))\r\n\r\n        if(detailPost.length > 0){\r\n            const newArr = detailPost.filter(post => post._id === id)\r\n            setPost(newArr)\r\n        }\r\n    },[detailPost, dispatch, id, auth])\r\n\r\n    return (\r\n        <div className=\"posts\">\r\n            {\r\n                post.length === 0 &&\r\n                <img src={LoadIcon} alt=\"loading\" className=\"d-block mx-auto my-4\" />\r\n            }\r\n\r\n            {\r\n                post.map(item => (\r\n                    <PostCard key={item._id} post={item} />\r\n                ))\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Post\r\n"],"sourceRoot":""}